{"version":3,"file":"og-grid-core.umd.js","sources":["../../../projects/og-grid-core/src/lib/engine.ts","../../../projects/og-grid-core/src/lib/csv.ts","../../../projects/og-grid-core/src/public-api.ts","../../../projects/og-grid-core/src/og-grid-core.ts"],"sourcesContent":["import {\n    AggModelItem,\n    AggregationType,\n    ColumnDef,\n    FilterModelItem,\n    GroupModelItem,\n    RowView,\n    SortModelItem,\n    GroupViewRow,\n    TextFilterMode,\n    PivotModel,\n} from './types';\n\nexport function mergeColDef<T>(col: ColumnDef<T>, defaultColDef?: Partial<ColumnDef<T>>): ColumnDef<T> {\n    var base = defaultColDef || {};\n    // Shallow merge is enough for the current scope.\n    return Object.assign({}, base, col);\n}\n\nexport function getCellValue<T>(col: ColumnDef<T>, row: T): any {\n    if (!col) return undefined;\n    if (col.valueGetter) return col.valueGetter(row);\n    var field = col.field as keyof T;\n    return (row as any)?.[field];\n}\n\nexport function sortRows<T>(\n    rows: T[],\n    cols: ColumnDef<T>[],\n    sortModel: SortModelItem[]\n): T[] {\n    if (!rows || rows.length === 0) return [];\n    if (!sortModel || sortModel.length === 0) return rows.slice();\n\n    var colMap: Record<string, ColumnDef<T> | undefined> = {};\n    cols.forEach(function (c) {\n        colMap[String(c.field)] = c;\n    });\n\n    var active = sortModel\n        .map(function (m) {\n            var col = colMap[m.colId];\n            if (!col || !col.sortable) return null;\n            var dir = m.sort === 'desc' ? -1 : 1;\n            var cmp =\n                col.comparator ||\n                function (a: any, b: any): number {\n                    if (a == null && b == null) return 0;\n                    if (a == null) return -1;\n                    if (b == null) return 1;\n                    if (typeof a === 'number' && typeof b === 'number') return a - b;\n                    var as = String(a);\n                    var bs = String(b);\n                    if (as < bs) return -1;\n                    if (as > bs) return 1;\n                    return 0;\n                };\n            return { col, dir, cmp };\n        })\n        .filter(Boolean) as { col: ColumnDef<T>; dir: number; cmp: (a: any, b: any) => number }[];\n\n    if (active.length === 0) return rows.slice();\n\n    var clone = rows.slice();\n    clone.sort(function (a, b) {\n        for (var i = 0; i < active.length; i++) {\n            var s = active[i];\n            var av = getCellValue(s.col, a);\n            var bv = getCellValue(s.col, b);\n            var res = s.cmp(av, bv) * s.dir;\n            if (res !== 0) return res;\n        }\n        return 0;\n    });\n    return clone;\n}\n\nexport function filterRows<T>(\n    rows: T[],\n    cols: ColumnDef<T>[],\n    filterModel: FilterModelItem[]\n): T[] {\n    if (!rows || rows.length === 0) return [];\n    if (!filterModel || filterModel.length === 0) return rows.slice();\n\n    var colMap: Record<string, ColumnDef<T> | undefined> = {};\n    cols.forEach(function (c) {\n        colMap[String(c.field)] = c;\n    });\n\n    return rows.filter(function (row) {\n        for (var i = 0; i < filterModel.length; i++) {\n            var f = filterModel[i];\n            var col = colMap[f.colId];\n            if (!col) continue;\n\n            var cell = getCellValue(col, row);\n\n            // Custom predicate wins\n            if (typeof col.filter === 'function') {\n                if (!col.filter(cell, row)) return false;\n                continue;\n            }\n\n    var type = f.type || (typeof cell === 'number' ? 'number' : 'text');\n    var comparator = col.filterComparator || defaultFilterComparator;\n    var pass = comparator(cell, f.value, f.valueTo, type, f.matchMode || col.filterMatchMode);\n            if (!pass) return false;\n        }\n        return true;\n    });\n}\n\nfunction defaultFilterComparator(\n    cellValue: any,\n    filterValue: any,\n    filterValueTo: any,\n    type: FilterModelItem['type'],\n    matchMode?: TextFilterMode\n): boolean {\n    if (type === 'number') {\n        if (filterValue == null && filterValueTo == null) return true;\n        var num = numberVal(cellValue);\n        if (num == null) return false;\n        var from = numberVal(filterValue);\n        var to = numberVal(filterValueTo);\n        if (from != null && num < from) return false;\n        if (to != null && num > to) return false;\n        return true;\n    }\n\n    if (type === 'date') {\n        if (!filterValue && !filterValueTo) return true;\n        var d = dateVal(cellValue);\n        if (d == null) return false;\n        var dFrom = dateVal(filterValue);\n        var dTo = dateVal(filterValueTo);\n        if (dFrom != null && d < dFrom) return false;\n        if (dTo != null && d > dTo) return false;\n        return true;\n    }\n\n    // text (default): case-insensitive contains/starts/equals\n    if (filterValue == null || filterValue === '') return true;\n    var s = safeString(cellValue);\n    var fv = safeString(filterValue);\n    if (matchMode === 'startsWith') return s.startsWith(fv);\n    if (matchMode === 'equals') return s === fv;\n    return s.indexOf(fv) >= 0;\n}\n\nfunction safeString(v: any): string {\n    return v == null ? '' : String(v).toLowerCase();\n}\n\nfunction numberVal(v: any): number | null {\n    if (v == null || v === '') return null;\n    var n = Number(v);\n    return isNaN(n) ? null : n;\n}\n\nfunction dateVal(v: any): number | null {\n    if (!v && v !== 0) return null;\n    if (v instanceof Date) return v.getTime();\n    var d = new Date(v);\n    var t = d.getTime();\n    return isNaN(t) ? null : t;\n}\n\n// -------- Grouping & Aggregation --------\n\ninterface GroupNode<T = any> {\n    key: any;\n    colId: string;\n    level: number;\n    path: string;\n    count: number;\n    agg: Record<string, any>;\n    children?: GroupNode<T>[];\n    rows?: T[];\n}\n\nexport function groupAndFlattenRows<T>(\n    rows: T[],\n    cols: ColumnDef<T>[],\n    groupModel: GroupModelItem[],\n    aggModel: AggModelItem[],\n    expanded: Set<string> | null | undefined\n): { flat: Array<RowView<T>>; paths: string[] } {\n    if (!groupModel || groupModel.length === 0) {\n        return { flat: rows.slice() as Array<RowView<T>>, paths: [] };\n    }\n\n    var colMap: Record<string, ColumnDef<T> | undefined> = {};\n    cols.forEach(function (c) {\n        colMap[String(c.field)] = c;\n    });\n\n    var aggLookup: Record<string, AggModelItem> = {};\n    aggModel.forEach(function (a) {\n        aggLookup[a.colId] = a;\n    });\n\n    var tree = buildGroupTree(rows, groupModel, colMap, aggLookup, 0, '');\n    var paths: string[] = [];\n    var flat: Array<RowView<T>> = [];\n\n    var isExpanded = function (path: string): boolean {\n        if (!expanded) return true;\n        return expanded.has(path);\n    };\n\n    flatten(tree, isExpanded, flat, paths);\n    return { flat, paths };\n}\n\nfunction buildGroupTree<T>(\n    rows: T[],\n    groupModel: GroupModelItem[],\n    colMap: Record<string, ColumnDef<T> | undefined>,\n    aggLookup: Record<string, AggModelItem>,\n    level: number,\n    prefix: string\n): GroupNode<T>[] {\n    var colId = groupModel[level]?.colId;\n    if (!colId) return [];\n    var col = colMap[colId];\n    var groups: Record<string, T[]> = {};\n\n    rows.forEach(function (row) {\n        var key = col ? getCellValue(col, row) : undefined;\n        var k = key == null ? '__null__' : String(key);\n        if (!groups[k]) groups[k] = [];\n        groups[k].push(row);\n    });\n\n    var keys = Object.keys(groups).sort();\n    var nodes: GroupNode<T>[] = [];\n\n    keys.forEach(function (k) {\n        var keyRows = groups[k];\n        var path = prefix ? prefix + '|' + k : k;\n        var children: GroupNode<T>[] | undefined;\n        var leafRows: T[] | undefined;\n\n        if (level < groupModel.length - 1) {\n            children = buildGroupTree(keyRows, groupModel, colMap, aggLookup, level + 1, path);\n        } else {\n            leafRows = keyRows;\n        }\n\n        var agg = computeAggs(leafRows || collectLeafRows(children), colMap, aggLookup);\n\n        nodes.push({\n            key: k === '__null__' ? null : maybeOriginalKey(keyRows, col),\n            colId: colId,\n            level: level,\n            path: path,\n            count: leafRows ? leafRows.length : countLeaves(children),\n            agg: agg,\n            children: children,\n            rows: leafRows,\n        });\n    });\n\n    return nodes;\n}\n\nfunction maybeOriginalKey<T>(rows: T[], col?: ColumnDef<T>): any {\n    if (!col || rows.length === 0) return null;\n    return getCellValue(col, rows[0]);\n}\n\nfunction collectLeafRows<T>(nodes?: GroupNode<T>[]): T[] {\n    if (!nodes || nodes.length === 0) return [];\n    var out: T[] = [];\n    nodes.forEach(function (n) {\n        if (n.rows) out.push.apply(out, n.rows);\n        else out.push.apply(out, collectLeafRows(n.children));\n    });\n    return out;\n}\n\nfunction countLeaves<T>(nodes?: GroupNode<T>[]): number {\n    if (!nodes || nodes.length === 0) return 0;\n    var total = 0;\n    nodes.forEach(function (n) {\n        if (n.rows) total += n.rows.length;\n        else total += countLeaves(n.children);\n    });\n    return total;\n}\n\nfunction computeAggs<T>(\n    rows: T[],\n    colMap: Record<string, ColumnDef<T> | undefined>,\n    aggLookup: Record<string, AggModelItem>\n): Record<string, any> {\n    var agg: Record<string, any> = {};\n    if (!rows || rows.length === 0) return agg;\n\n    Object.keys(aggLookup).forEach(function (colId) {\n        var aggItem = aggLookup[colId];\n        var col = colMap[colId];\n        var values = rows.map(function (r) {\n            return col ? getCellValue(col, r) : undefined;\n        });\n        var fn = resolveAggFunc(aggItem.aggFunc, col);\n        agg[colId] = fn(values);\n    });\n\n    return agg;\n}\n\n// -------- Pivot (single pivot column MVP) --------\n\nexport interface PivotResult<T = any> {\n    rows: T[];\n    dynamicCols: ColumnDef<T>[];\n    paths: string[];\n}\n\nexport function pivotRows<T>(\n    rows: T[],\n    cols: ColumnDef<T>[],\n    pivot: PivotModel,\n    expanded: Set<string> | null | undefined\n): PivotResult<T> {\n    if (!pivot.enabled || !pivot.pivotCol || !pivot.valueCols.length) {\n        return { rows, dynamicCols: [], paths: [] };\n    }\n\n    var colMap: Record<string, ColumnDef<T> | undefined> = {};\n    cols.forEach(function (c) {\n        colMap[String(c.field)] = c;\n    });\n\n    var pivotCol = colMap[pivot.pivotCol];\n    if (!pivotCol) return { rows, dynamicCols: [], paths: [] };\n\n    // Group rows by pivot value\n    var pivotBuckets: Record<string, T[]> = {};\n    var pivotValues: any[] = [];\n    rows.forEach(function (r) {\n        var key = getCellValue(pivotCol!, r);\n        var k = key == null ? '__null__' : String(key);\n        if (!pivotBuckets[k]) {\n            pivotBuckets[k] = [];\n            pivotValues.push(k);\n        }\n        pivotBuckets[k].push(r);\n    });\n\n    // Build dynamic columns for pivot values x value cols\n    var dynamicCols: ColumnDef<T>[] = [];\n    pivotValues.forEach(function (pv) {\n        pivot.valueCols.forEach(function (vcol) {\n            var base = colMap[vcol.colId];\n            dynamicCols.push({\n                field: 'pv:' + pv + ':' + vcol.colId,\n                headerName: (base?.headerName || vcol.colId) + ' ' + (pv === '__null__' ? '(blank)' : pv),\n                sortable: false,\n                filter: 'number',\n                width: 140,\n            } as any);\n        });\n    });\n\n    // Compute aggregated rows per pivot value\n    var out: any[] = [];\n    Object.keys(pivotBuckets).forEach(function (pv) {\n        var bucket = pivotBuckets[pv];\n        var row: any = { __pivotKey: pv };\n        pivot.valueCols.forEach(function (vcol) {\n            var aggItem = vcol;\n            var aggFn = resolveAggFunc(aggItem.aggFunc, colMap[vcol.colId]);\n            var values = bucket.map(function (r) {\n                var c = colMap[vcol.colId];\n                return c ? getCellValue(c, r) : undefined;\n            });\n            row['pv:' + pv + ':' + vcol.colId] = aggFn(values);\n        });\n        out.push(row as T);\n    });\n\n    return { rows: out, dynamicCols, paths: [] };\n}\n\nfunction resolveAggFunc<T>(\n    agg: AggregationType | ((values: any[]) => any),\n    col?: ColumnDef<T>\n): (values: any[]) => any {\n    if (typeof agg === 'function') return agg;\n\n    var numericAgg = function (values: any[], reducer: (a: number, b: number) => number, start: number): any {\n        var nums = values\n            .map(function (v) {\n                return typeof v === 'number' ? v : Number(v);\n            })\n            .filter(function (v) {\n                return !isNaN(v);\n            });\n        if (nums.length === 0) return null;\n        return nums.reduce(reducer, start);\n    };\n\n    switch (agg) {\n        case 'sum':\n            return function (values: any[]): any {\n                return numericAgg(values, function (a, b) { return a + b; }, 0);\n            };\n        case 'min':\n            return function (values: any[]): any {\n                return numericAgg(values, function (a, b) { return Math.min(a, b); }, Number.POSITIVE_INFINITY);\n            };\n        case 'max':\n            return function (values: any[]): any {\n                return numericAgg(values, function (a, b) { return Math.max(a, b); }, Number.NEGATIVE_INFINITY);\n            };\n        case 'avg':\n            return function (values: any[]): any {\n                var nums = values\n                    .map(function (v) {\n                        return typeof v === 'number' ? v : Number(v);\n                    })\n                    .filter(function (v) {\n                        return !isNaN(v);\n                    });\n                if (nums.length === 0) return null;\n                var total = nums.reduce(function (a, b) { return a + b; }, 0);\n                return total / nums.length;\n            };\n        case 'count':\n        default:\n            return function (values: any[]): any {\n                return values.length;\n            };\n    }\n}\n\nfunction flatten<T>(\n    nodes: GroupNode<T>[],\n    isExpanded: (path: string) => boolean,\n    out: Array<RowView<T>>,\n    paths: string[]\n): void {\n    nodes.forEach(function (n) {\n        var gRow: GroupViewRow<T> = {\n            __group: true,\n            key: n.key,\n            colId: n.colId,\n            level: n.level,\n            path: n.path,\n            count: n.count,\n            agg: n.agg,\n        };\n        out.push(gRow);\n        paths.push(n.path);\n\n        if (isExpanded(n.path)) {\n            if (n.children && n.children.length) {\n                flatten(n.children, isExpanded, out, paths);\n            } else if (n.rows) {\n                out.push.apply(out, n.rows as any);\n            }\n        }\n    });\n}\n\n","import { ColumnDef } from './types';\nimport { getCellValue } from './engine';\n\nfunction escapeCsv(v: any): string {\n    var s = v == null ? '' : String(v);\n    // Escape quotes by doubling them\n    if (s.indexOf('\"') >= 0) s = s.replace(/\"/g, '\"\"');\n    // Wrap if contains commas/newlines/quotes\n    if (/[\",\\n\\r]/.test(s)) s = '\"' + s + '\"';\n    return s;\n}\n\nexport function toCsv<T>(rows: T[], cols: ColumnDef<T>[]): string {\n    var headers = cols.map(function (c) {\n        return escapeCsv(c.headerName != null ? c.headerName : String(c.field));\n    });\n\n    var lines: string[] = [];\n    lines.push(headers.join(','));\n\n    for (var i = 0; i < rows.length; i++) {\n        var r = rows[i];\n        var line = cols.map(function (c) {\n            var val = getCellValue(c, r);\n            if (c.valueFormatter) val = c.valueFormatter(val, r);\n            return escapeCsv(val);\n        });\n        lines.push(line.join(','));\n    }\n\n    return lines.join('\\n');\n}\n","/*\n * Public API Surface of og-grid-core\n */\n\n// Framework-agnostic core exports\nexport * from './lib/types';\nexport * from './lib/engine';\nexport * from './lib/csv';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}