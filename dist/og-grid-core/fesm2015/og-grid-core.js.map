{"version":3,"file":"og-grid-core.js","sources":["../../../projects/og-grid-core/src/lib/engine.ts","../../../projects/og-grid-core/src/lib/csv.ts","../../../projects/og-grid-core/src/public-api.ts","../../../projects/og-grid-core/src/og-grid-core.ts"],"sourcesContent":["import {\n    AggModelItem,\n    AggregationType,\n    ColumnDef,\n    FilterModelItem,\n    GroupModelItem,\n    RowView,\n    SortModelItem,\n    GroupViewRow,\n    TextFilterMode,\n    PivotModel,\n} from './types';\n\nexport function mergeColDef<T>(col: ColumnDef<T>, defaultColDef?: Partial<ColumnDef<T>>): ColumnDef<T> {\n    var base = defaultColDef || {};\n    // Shallow merge is enough for the current scope.\n    return Object.assign({}, base, col);\n}\n\nexport function getCellValue<T>(col: ColumnDef<T>, row: T): any {\n    if (!col) return undefined;\n    if (col.valueGetter) return col.valueGetter(row);\n    var field = col.field as keyof T;\n    return (row as any)?.[field];\n}\n\nexport function sortRows<T>(\n    rows: T[],\n    cols: ColumnDef<T>[],\n    sortModel: SortModelItem[]\n): T[] {\n    if (!rows || rows.length === 0) return [];\n    if (!sortModel || sortModel.length === 0) return rows.slice();\n\n    var colMap: Record<string, ColumnDef<T> | undefined> = {};\n    cols.forEach(function (c) {\n        colMap[String(c.field)] = c;\n    });\n\n    var active = sortModel\n        .map(function (m) {\n            var col = colMap[m.colId];\n            if (!col || !col.sortable) return null;\n            var dir = m.sort === 'desc' ? -1 : 1;\n            var cmp =\n                col.comparator ||\n                function (a: any, b: any): number {\n                    if (a == null && b == null) return 0;\n                    if (a == null) return -1;\n                    if (b == null) return 1;\n                    if (typeof a === 'number' && typeof b === 'number') return a - b;\n                    var as = String(a);\n                    var bs = String(b);\n                    if (as < bs) return -1;\n                    if (as > bs) return 1;\n                    return 0;\n                };\n            return { col, dir, cmp };\n        })\n        .filter(Boolean) as { col: ColumnDef<T>; dir: number; cmp: (a: any, b: any) => number }[];\n\n    if (active.length === 0) return rows.slice();\n\n    var clone = rows.slice();\n    clone.sort(function (a, b) {\n        for (var i = 0; i < active.length; i++) {\n            var s = active[i];\n            var av = getCellValue(s.col, a);\n            var bv = getCellValue(s.col, b);\n            var res = s.cmp(av, bv) * s.dir;\n            if (res !== 0) return res;\n        }\n        return 0;\n    });\n    return clone;\n}\n\nexport function filterRows<T>(\n    rows: T[],\n    cols: ColumnDef<T>[],\n    filterModel: FilterModelItem[]\n): T[] {\n    if (!rows || rows.length === 0) return [];\n    if (!filterModel || filterModel.length === 0) return rows.slice();\n\n    var colMap: Record<string, ColumnDef<T> | undefined> = {};\n    cols.forEach(function (c) {\n        colMap[String(c.field)] = c;\n    });\n\n    return rows.filter(function (row) {\n        for (var i = 0; i < filterModel.length; i++) {\n            var f = filterModel[i];\n            var col = colMap[f.colId];\n            if (!col) continue;\n\n            var cell = getCellValue(col, row);\n\n            // Custom predicate wins\n            if (typeof col.filter === 'function') {\n                if (!col.filter(cell, row)) return false;\n                continue;\n            }\n\n    var type = f.type || (typeof cell === 'number' ? 'number' : 'text');\n    var comparator = col.filterComparator || defaultFilterComparator;\n    var pass = comparator(cell, f.value, f.valueTo, type, f.matchMode || col.filterMatchMode);\n            if (!pass) return false;\n        }\n        return true;\n    });\n}\n\nfunction defaultFilterComparator(\n    cellValue: any,\n    filterValue: any,\n    filterValueTo: any,\n    type: FilterModelItem['type'],\n    matchMode?: TextFilterMode\n): boolean {\n    if (type === 'number') {\n        if (filterValue == null && filterValueTo == null) return true;\n        var num = numberVal(cellValue);\n        if (num == null) return false;\n        var from = numberVal(filterValue);\n        var to = numberVal(filterValueTo);\n        if (from != null && num < from) return false;\n        if (to != null && num > to) return false;\n        return true;\n    }\n\n    if (type === 'date') {\n        if (!filterValue && !filterValueTo) return true;\n        var d = dateVal(cellValue);\n        if (d == null) return false;\n        var dFrom = dateVal(filterValue);\n        var dTo = dateVal(filterValueTo);\n        if (dFrom != null && d < dFrom) return false;\n        if (dTo != null && d > dTo) return false;\n        return true;\n    }\n\n    // text (default): case-insensitive contains/starts/equals\n    if (filterValue == null || filterValue === '') return true;\n    var s = safeString(cellValue);\n    var fv = safeString(filterValue);\n    if (matchMode === 'startsWith') return s.startsWith(fv);\n    if (matchMode === 'equals') return s === fv;\n    return s.indexOf(fv) >= 0;\n}\n\nfunction safeString(v: any): string {\n    return v == null ? '' : String(v).toLowerCase();\n}\n\nfunction numberVal(v: any): number | null {\n    if (v == null || v === '') return null;\n    var n = Number(v);\n    return isNaN(n) ? null : n;\n}\n\nfunction dateVal(v: any): number | null {\n    if (!v && v !== 0) return null;\n    if (v instanceof Date) return v.getTime();\n    var d = new Date(v);\n    var t = d.getTime();\n    return isNaN(t) ? null : t;\n}\n\n// -------- Grouping & Aggregation --------\n\ninterface GroupNode<T = any> {\n    key: any;\n    colId: string;\n    level: number;\n    path: string;\n    count: number;\n    agg: Record<string, any>;\n    children?: GroupNode<T>[];\n    rows?: T[];\n}\n\nexport function groupAndFlattenRows<T>(\n    rows: T[],\n    cols: ColumnDef<T>[],\n    groupModel: GroupModelItem[],\n    aggModel: AggModelItem[],\n    expanded: Set<string> | null | undefined\n): { flat: Array<RowView<T>>; paths: string[] } {\n    if (!groupModel || groupModel.length === 0) {\n        return { flat: rows.slice() as Array<RowView<T>>, paths: [] };\n    }\n\n    var colMap: Record<string, ColumnDef<T> | undefined> = {};\n    cols.forEach(function (c) {\n        colMap[String(c.field)] = c;\n    });\n\n    var aggLookup: Record<string, AggModelItem> = {};\n    aggModel.forEach(function (a) {\n        aggLookup[a.colId] = a;\n    });\n\n    var tree = buildGroupTree(rows, groupModel, colMap, aggLookup, 0, '');\n    var paths: string[] = [];\n    var flat: Array<RowView<T>> = [];\n\n    var isExpanded = function (path: string): boolean {\n        if (!expanded) return true;\n        return expanded.has(path);\n    };\n\n    flatten(tree, isExpanded, flat, paths);\n    return { flat, paths };\n}\n\nfunction buildGroupTree<T>(\n    rows: T[],\n    groupModel: GroupModelItem[],\n    colMap: Record<string, ColumnDef<T> | undefined>,\n    aggLookup: Record<string, AggModelItem>,\n    level: number,\n    prefix: string\n): GroupNode<T>[] {\n    var colId = groupModel[level]?.colId;\n    if (!colId) return [];\n    var col = colMap[colId];\n    var groups: Record<string, T[]> = {};\n\n    rows.forEach(function (row) {\n        var key = col ? getCellValue(col, row) : undefined;\n        var k = key == null ? '__null__' : String(key);\n        if (!groups[k]) groups[k] = [];\n        groups[k].push(row);\n    });\n\n    var keys = Object.keys(groups).sort();\n    var nodes: GroupNode<T>[] = [];\n\n    keys.forEach(function (k) {\n        var keyRows = groups[k];\n        var path = prefix ? prefix + '|' + k : k;\n        var children: GroupNode<T>[] | undefined;\n        var leafRows: T[] | undefined;\n\n        if (level < groupModel.length - 1) {\n            children = buildGroupTree(keyRows, groupModel, colMap, aggLookup, level + 1, path);\n        } else {\n            leafRows = keyRows;\n        }\n\n        var agg = computeAggs(leafRows || collectLeafRows(children), colMap, aggLookup);\n\n        nodes.push({\n            key: k === '__null__' ? null : maybeOriginalKey(keyRows, col),\n            colId: colId,\n            level: level,\n            path: path,\n            count: leafRows ? leafRows.length : countLeaves(children),\n            agg: agg,\n            children: children,\n            rows: leafRows,\n        });\n    });\n\n    return nodes;\n}\n\nfunction maybeOriginalKey<T>(rows: T[], col?: ColumnDef<T>): any {\n    if (!col || rows.length === 0) return null;\n    return getCellValue(col, rows[0]);\n}\n\nfunction collectLeafRows<T>(nodes?: GroupNode<T>[]): T[] {\n    if (!nodes || nodes.length === 0) return [];\n    var out: T[] = [];\n    nodes.forEach(function (n) {\n        if (n.rows) out.push.apply(out, n.rows);\n        else out.push.apply(out, collectLeafRows(n.children));\n    });\n    return out;\n}\n\nfunction countLeaves<T>(nodes?: GroupNode<T>[]): number {\n    if (!nodes || nodes.length === 0) return 0;\n    var total = 0;\n    nodes.forEach(function (n) {\n        if (n.rows) total += n.rows.length;\n        else total += countLeaves(n.children);\n    });\n    return total;\n}\n\nfunction computeAggs<T>(\n    rows: T[],\n    colMap: Record<string, ColumnDef<T> | undefined>,\n    aggLookup: Record<string, AggModelItem>\n): Record<string, any> {\n    var agg: Record<string, any> = {};\n    if (!rows || rows.length === 0) return agg;\n\n    Object.keys(aggLookup).forEach(function (colId) {\n        var aggItem = aggLookup[colId];\n        var col = colMap[colId];\n        var values = rows.map(function (r) {\n            return col ? getCellValue(col, r) : undefined;\n        });\n        var fn = resolveAggFunc(aggItem.aggFunc, col);\n        agg[colId] = fn(values);\n    });\n\n    return agg;\n}\n\n// -------- Pivot (single pivot column MVP) --------\n\nexport interface PivotResult<T = any> {\n    rows: T[];\n    dynamicCols: ColumnDef<T>[];\n    paths: string[];\n}\n\nexport function pivotRows<T>(\n    rows: T[],\n    cols: ColumnDef<T>[],\n    pivot: PivotModel,\n    expanded: Set<string> | null | undefined\n): PivotResult<T> {\n    if (!pivot.enabled || !pivot.pivotCol || !pivot.valueCols.length) {\n        return { rows, dynamicCols: [], paths: [] };\n    }\n\n    var colMap: Record<string, ColumnDef<T> | undefined> = {};\n    cols.forEach(function (c) {\n        colMap[String(c.field)] = c;\n    });\n\n    var pivotCol = colMap[pivot.pivotCol];\n    if (!pivotCol) return { rows, dynamicCols: [], paths: [] };\n\n    // Group rows by pivot value\n    var pivotBuckets: Record<string, T[]> = {};\n    var pivotValues: any[] = [];\n    rows.forEach(function (r) {\n        var key = getCellValue(pivotCol!, r);\n        var k = key == null ? '__null__' : String(key);\n        if (!pivotBuckets[k]) {\n            pivotBuckets[k] = [];\n            pivotValues.push(k);\n        }\n        pivotBuckets[k].push(r);\n    });\n\n    // Build dynamic columns for pivot values x value cols\n    var dynamicCols: ColumnDef<T>[] = [];\n    pivotValues.forEach(function (pv) {\n        pivot.valueCols.forEach(function (vcol) {\n            var base = colMap[vcol.colId];\n            dynamicCols.push({\n                field: 'pv:' + pv + ':' + vcol.colId,\n                headerName: (base?.headerName || vcol.colId) + ' ' + (pv === '__null__' ? '(blank)' : pv),\n                sortable: false,\n                filter: 'number',\n                width: 140,\n            } as any);\n        });\n    });\n\n    // Compute aggregated rows per pivot value\n    var out: any[] = [];\n    Object.keys(pivotBuckets).forEach(function (pv) {\n        var bucket = pivotBuckets[pv];\n        var row: any = { __pivotKey: pv };\n        pivot.valueCols.forEach(function (vcol) {\n            var aggItem = vcol;\n            var aggFn = resolveAggFunc(aggItem.aggFunc, colMap[vcol.colId]);\n            var values = bucket.map(function (r) {\n                var c = colMap[vcol.colId];\n                return c ? getCellValue(c, r) : undefined;\n            });\n            row['pv:' + pv + ':' + vcol.colId] = aggFn(values);\n        });\n        out.push(row as T);\n    });\n\n    return { rows: out, dynamicCols, paths: [] };\n}\n\nfunction resolveAggFunc<T>(\n    agg: AggregationType | ((values: any[]) => any),\n    col?: ColumnDef<T>\n): (values: any[]) => any {\n    if (typeof agg === 'function') return agg;\n\n    var numericAgg = function (values: any[], reducer: (a: number, b: number) => number, start: number): any {\n        var nums = values\n            .map(function (v) {\n                return typeof v === 'number' ? v : Number(v);\n            })\n            .filter(function (v) {\n                return !isNaN(v);\n            });\n        if (nums.length === 0) return null;\n        return nums.reduce(reducer, start);\n    };\n\n    switch (agg) {\n        case 'sum':\n            return function (values: any[]): any {\n                return numericAgg(values, function (a, b) { return a + b; }, 0);\n            };\n        case 'min':\n            return function (values: any[]): any {\n                return numericAgg(values, function (a, b) { return Math.min(a, b); }, Number.POSITIVE_INFINITY);\n            };\n        case 'max':\n            return function (values: any[]): any {\n                return numericAgg(values, function (a, b) { return Math.max(a, b); }, Number.NEGATIVE_INFINITY);\n            };\n        case 'avg':\n            return function (values: any[]): any {\n                var nums = values\n                    .map(function (v) {\n                        return typeof v === 'number' ? v : Number(v);\n                    })\n                    .filter(function (v) {\n                        return !isNaN(v);\n                    });\n                if (nums.length === 0) return null;\n                var total = nums.reduce(function (a, b) { return a + b; }, 0);\n                return total / nums.length;\n            };\n        case 'count':\n        default:\n            return function (values: any[]): any {\n                return values.length;\n            };\n    }\n}\n\nfunction flatten<T>(\n    nodes: GroupNode<T>[],\n    isExpanded: (path: string) => boolean,\n    out: Array<RowView<T>>,\n    paths: string[]\n): void {\n    nodes.forEach(function (n) {\n        var gRow: GroupViewRow<T> = {\n            __group: true,\n            key: n.key,\n            colId: n.colId,\n            level: n.level,\n            path: n.path,\n            count: n.count,\n            agg: n.agg,\n        };\n        out.push(gRow);\n        paths.push(n.path);\n\n        if (isExpanded(n.path)) {\n            if (n.children && n.children.length) {\n                flatten(n.children, isExpanded, out, paths);\n            } else if (n.rows) {\n                out.push.apply(out, n.rows as any);\n            }\n        }\n    });\n}\n\n","import { ColumnDef } from './types';\nimport { getCellValue } from './engine';\n\nfunction escapeCsv(v: any): string {\n    var s = v == null ? '' : String(v);\n    // Escape quotes by doubling them\n    if (s.indexOf('\"') >= 0) s = s.replace(/\"/g, '\"\"');\n    // Wrap if contains commas/newlines/quotes\n    if (/[\",\\n\\r]/.test(s)) s = '\"' + s + '\"';\n    return s;\n}\n\nexport function toCsv<T>(rows: T[], cols: ColumnDef<T>[]): string {\n    var headers = cols.map(function (c) {\n        return escapeCsv(c.headerName != null ? c.headerName : String(c.field));\n    });\n\n    var lines: string[] = [];\n    lines.push(headers.join(','));\n\n    for (var i = 0; i < rows.length; i++) {\n        var r = rows[i];\n        var line = cols.map(function (c) {\n            var val = getCellValue(c, r);\n            if (c.valueFormatter) val = c.valueFormatter(val, r);\n            return escapeCsv(val);\n        });\n        lines.push(line.join(','));\n    }\n\n    return lines.join('\\n');\n}\n","/*\n * Public API Surface of og-grid-core\n */\n\n// Framework-agnostic core exports\nexport * from './lib/types';\nexport * from './lib/engine';\nexport * from './lib/csv';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}