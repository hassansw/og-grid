{"version":3,"file":"og-grid-angular.js","sources":["../../../projects/og-grid-angular/src/lib/og-grid.component.ts","../../../projects/og-grid-angular/src/lib/og-grid.component.html","../../../projects/og-grid-angular/src/lib/og-grid.module.ts","../../../projects/og-grid-angular/src/og-grid-angular.ts"],"sourcesContent":["import {\n    Component,\n    ChangeDetectionStrategy,\n    Input,\n    OnChanges,\n    SimpleChanges,\n    ChangeDetectorRef,\n    NgZone,\n    HostListener,\n    ElementRef,\n    OnInit,\n} from '@angular/core';\n\nimport {\n    ColumnDef,\n    GridOptions,\n    GridApi,\n    SortModelItem,\n    FilterModelItem,\n    GroupModelItem,\n    PivotModel,\n    AggModelItem,\n    GroupViewRow,\n    RowView,\n    mergeColDef,\n    sortRows,\n    filterRows,\n    groupAndFlattenRows,\n    pivotRows,\n    toCsv,\n    getCellValue,\n} from 'og-grid-core';\n\n\n@Component({\n    selector: 'og-grid',\n    templateUrl: './og-grid.component.html',\n    styleUrls: ['./og-grid.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class OgGridComponent<T = any> implements OnInit, OnChanges {\n    @Input() columnDefs: ColumnDef<T>[] = [];\n    @Input() rowData: T[] = [];\n    @Input() options: Partial<GridOptions<T>> = {};\n    @Input() showSelection: boolean = true; // explicit toggle for checkbox column\n\n    // Optional: expose API to parent via template ref: #grid then grid.api.exportCsv()\n    api: GridApi<T>;\n\n    mergedCols: ColumnDef<T>[] = [];\n    viewRows: RowView<T>[] = [];\n\n    sortModel: SortModelItem[] = [];\n    filterModel: FilterModelItem[] = [];\n    groupModel: GroupModelItem[] = [];\n    pivotModel: PivotModel = { rowGroupCols: [], valueCols: [], pivotCol: undefined, enabled: false };\n    expandedGroups = new Set<string>();\n    filterInputs: Record<string, { value?: any; valueTo?: any }> = {};\n    private filterModes: Record<string, 'contains' | 'startsWith' | 'equals'> = {};\n    private filterDebounce: Record<string, any> = {};\n    private colWidths: Record<string, number> = {};\n    menuOpenFor: string | null = null;\n    private resizeFrame: number | null = null;\n    private resizingCol: string | null = null;\n    showPivotPanel = true;\n\n    private selected = new Set<T>(); // track by row object references\n\n    constructor(private cdr: ChangeDetectorRef, private zone: NgZone, private host: ElementRef<HTMLElement>) {\n        var self = this;\n\n        this.api = {\n            setRowData: function (data: T[]) {\n                self.rowData = data || [];\n                self.recompute();\n            },\n            setColumnDefs: function (cols: ColumnDef<T>[]) {\n                self.columnDefs = cols || [];\n                self.recompute();\n            },\n            setSortModel: function (model: SortModelItem[]) {\n                self.sortModel = model || [];\n                self.recompute();\n            },\n            setFilterModel: function (model: FilterModelItem[]) {\n                self.filterModel = model || [];\n                self.recompute();\n            },\n            getSortModel: function () {\n                return self.sortModel.slice();\n            },\n            getFilterModel: function () {\n                return self.filterModel.slice();\n            },\n            setGroupModel: function (model: GroupModelItem[]) {\n                self.groupModel = model || [];\n                self.recompute();\n            },\n            getGroupModel: function () {\n                return self.groupModel.slice();\n            },\n            setExpandedGroups: function (paths: string[]) {\n                self.expandedGroups = new Set(paths || []);\n                self.recompute();\n            },\n            getExpandedGroups: function () {\n                return Array.from(self.expandedGroups);\n            },\n            setPivotModel: function (model: PivotModel) {\n                self.pivotModel = model || { rowGroupCols: [], valueCols: [], pivotCol: undefined, enabled: false };\n                self.recompute();\n            },\n            getPivotModel: function () {\n                return Object.assign({}, self.pivotModel);\n            },\n            getSelectedRows: function () {\n                return Array.from(self.selected);\n            },\n            exportCsv: function (filename?: string) {\n                var name = filename || 'og-grid-export.csv';\n                var csv = toCsv(self.getLeafRows(), self.mergedCols);\n                downloadTextFile(csv, name, 'text/csv;charset=utf-8;');\n            },\n        };\n    }\n\n    ngOnInit(): void {\n        this.setColumns();\n    }\n\n    setColumns() {\n        if (!isArrayValid(this.columnDefs, 0) && isArrayValid(this.rowData, 0)) {\n            this.columnDefs = this.buildColumnDefs(this.rowData);\n        }\n    }\n\n    inferType(val: any) {\n        if (val === null || val === undefined) return 'text';\n        if (typeof val === 'number') return 'number';\n        const d = new Date(val);\n        if (!isNaN(d.getTime()) && /[T:\\-\\/]/.test(String(val))) return 'date';\n        if (!isNaN(Number(val)) && val !== '') return 'number';\n        return 'text';\n    }\n\n    buildColumnDefs(data: any[]) {\n        if (!data.length) return [];\n        return Object.keys(data[0]).map(k => {\n            let sample = data.find(r => r[k] != null)?.[k];\n            const t = this.inferType(sample);\n            const col: any = {\n                field: k, headerName: this.generateHeaderFromKey(k), filter: true, sortable: true, resizable: true,\n                enableRowGroup: true, enablePivot: true, enableValue: true\n            };\n            if (t === 'number') { col.aggFunc = 'sum'; }\n            if (t === 'date') { col.filter = 'agDateColumnFilter'; }\n            return col;\n        });\n    }\n\n    generateHeaderFromKey(key: any) {\n        return key\n            // Insert space before uppercase letters (for camelCase)\n            .replace(/([A-Z])/g, ' $1')\n            // Replace common separators with spaces\n            .replace(/[_-]/g, ' ')\n            // Handle acronyms and special cases (multiple capitals in a row)\n            .replace(/([A-Z]+)([A-Z][a-z])/g, '$1 $2')\n            // Clean up multiple spaces\n            .replace(/\\s+/g, ' ')\n            // Trim and convert to title case\n            .trim()\n            .split(' ')\n            .map((word: any) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n            .join(' ');\n    }\n\n\n\n    @HostListener('document:click', ['$event'])\n    onDocClick(ev: MouseEvent): void {\n        if (!this.menuOpenFor) return;\n        if (this.host && this.host.nativeElement.contains(ev.target as Node)) {\n            // clicks inside component: ignore unless on menu toggle handled elsewhere\n            return;\n        }\n        this.menuOpenFor = null;\n        this.cdr.markForCheck();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.setColumns();\n        if (\n            changes.columnDefs ||\n            changes.rowData ||\n            changes.options\n        ) {\n            this.recompute();\n        }\n    }\n\n    private recompute(): void {\n        var def = (this.options && this.options.defaultColDef) || {};\n        this.mergedCols = (this.columnDefs || []).map(function (c) {\n            return mergeColDef(c, def);\n        });\n\n        var filtered = filterRows(this.rowData || [], this.mergedCols, this.filterModel);\n        var sorted = sortRows(filtered, this.mergedCols, this.sortModel);\n\n        if (this.pivotModel.enabled && this.pivotModel.pivotCol && this.pivotModel.valueCols.length) {\n            var pivoted = pivotRows(sorted, this.mergedCols, this.pivotModel, this.expandedGroups);\n            // replace columns with dynamic pivot cols only (no original data cols for now)\n            this.viewRows = pivoted.rows;\n            this.mergedCols = pivoted.dynamicCols;\n            this.expandedGroups.clear();\n        } else if (this.groupModel.length) {\n            var aggModel = this.buildAggModel();\n            var grouped = groupAndFlattenRows(sorted, this.mergedCols, this.groupModel, aggModel, this.expandedGroups);\n            // Ensure new groups are expanded by default\n            grouped.paths.forEach((p) => this.expandedGroups.add(p));\n            this.viewRows = grouped.flat;\n        } else {\n            this.viewRows = sorted;\n            this.expandedGroups.clear();\n        }\n\n        // Reset selection if it would become invalid\n        var next = new Set<T>();\n        var leaves = this.getLeafRows();\n        this.selected.forEach((row) => {\n            if (leaves.indexOf(row) >= 0) next.add(row);\n        });\n        this.selected = next;\n    }\n\n    // ---- UI actions ----\n\n    onHeaderClick(col: ColumnDef<T>, ev?: MouseEvent): void {\n        if (!col.sortable) return;\n        // If menu is open for this column, don't toggle sort\n        if (this.menuOpenFor === String(col.field)) return;\n\n        var colId = String(col.field);\n        var multi = !!(this.options && this.options.multiSort) || !!(ev && ev.shiftKey);\n\n        var next = multi ? this.sortModel.slice() : [];\n        var idx = next.findIndex(function (m) {\n            return m.colId === colId;\n        });\n\n        if (idx === -1) {\n            next.push({ colId: colId, sort: 'asc' });\n        } else {\n            var current = next[idx];\n            if (current.sort === 'asc') next[idx] = { colId: colId, sort: 'desc' };\n            else next.splice(idx, 1); // remove -> unsorted\n        }\n\n        this.recompute();\n    }\n\n    getSortIndicator(col: ColumnDef<T>): string {\n        if (!this.sortModel.length) return '';\n        var idx = this.sortModel.findIndex((m) => m.colId === String(col.field));\n        if (idx === -1) return '';\n        var mark = this.sortModel[idx].sort === 'asc' ? '▲' : '▼';\n        return this.sortModel.length > 1 ? mark + ' ' + (idx + 1) : mark;\n    }\n\n    isRowSelected(row: RowView<T>): boolean {\n        if (this.isGroupRow(row)) return false;\n        return this.selected.has(row as T);\n    }\n\n    toggleRowSelection(row: RowView<T>, ev?: MouseEvent): void {\n        if (!this.showSelectionColumn) return;\n        if (this.isGroupRow(row)) return;\n        var mode = (this.options && this.options.rowSelection) || 'single';\n\n        if (mode === 'single') {\n            this.selected.clear();\n            this.selected.add(row as T);\n            return;\n        }\n\n        // multiple\n        if (this.selected.has(row as T)) this.selected.delete(row as T);\n        else this.selected.add(row as T);\n    }\n\n    toggleAll(): void {\n        if (!this.showSelectionColumn) return;\n        var leaves = this.getLeafRows();\n        if (leaves.length === 0) return;\n\n        if (this.selected.size === leaves.length) {\n            this.selected.clear();\n            return;\n        }\n\n        this.selected.clear();\n        leaves.forEach((r) => this.selected.add(r));\n    }\n\n    get allSelected(): boolean {\n        if (!this.showSelectionColumn) return false;\n        var leaves = this.getLeafRows();\n        return leaves.length > 0 && this.selected.size === leaves.length;\n    }\n\n    renderCell(col: ColumnDef<T>, row: T): any {\n        var value = getCellValue(col, row);\n        return col.valueFormatter ? col.valueFormatter(value, row) : value;\n    }\n\n    get showSelectionColumn(): boolean {\n        return this.options.showSelection !== false;\n    }\n\n    onFilterChange(col: ColumnDef<T>, value: any, valueTo?: any): void {\n        var colId = String(col.field);\n        var mode = this.filterModes[colId] || (col as any).filterMatchMode || 'contains';\n        var next = this.filterModel.filter(function (f) {\n            return f.colId !== colId;\n        });\n\n        var hasRange = valueTo !== undefined && valueTo !== null && valueTo !== '';\n        var hasValue = value !== undefined && value !== null && value !== '';\n        if (hasValue || hasRange) {\n            var type = typeof col.filter === 'string' ? col.filter : undefined;\n            next.push({ colId, type, value, valueTo, matchMode: mode as any } as any);\n        }\n\n        this.filterModel = next;\n        this.recompute();\n    }\n\n    onRangeInput(col: ColumnDef<T>, part: 'min' | 'max', value: any): void {\n        var colId = String(col.field);\n        var current = this.filterInputs[colId] || {};\n        if (part === 'min') current.value = value;\n        else current.valueTo = value;\n        this.filterInputs[colId] = current;\n        this.onFilterChange(col, current.value, current.valueTo);\n    }\n\n    onTextFilterInput(col: ColumnDef<T>, raw: any, instant?: boolean): void {\n        var colId = String(col.field);\n        this.filterInputs[colId] = this.filterInputs[colId] || {};\n        this.filterInputs[colId].value = raw;\n        if (instant) {\n            this.onFilterChange(col, raw, undefined);\n            return;\n        }\n        // debounce per column\n        clearTimeout(this.filterDebounce[colId]);\n        this.filterDebounce[colId] = setTimeout(() => {\n            this.onFilterChange(col, raw, undefined);\n        }, 150);\n    }\n\n    onTextModeChange(col: ColumnDef<T>, mode: 'contains' | 'startsWith' | 'equals'): void {\n        var colId = String(col.field);\n        this.filterModes[colId] = mode;\n        // Reapply current filter value with new mode\n        var existing = this.filterModel.find((f) => f.colId === colId);\n        var val = existing ? existing.value : '';\n        this.onFilterChange(col, val, existing ? existing.valueTo : undefined);\n    }\n\n    clearFilters(): void {\n        this.filterModel = [];\n        this.filterInputs = {};\n        this.filterModes = {};\n        this.recompute();\n        this.cdr.markForCheck();\n    }\n\n    clearGroups(): void {\n        this.groupModel = [];\n        this.expandedGroups.clear();\n        this.recompute();\n    }\n\n    toggleGroup(col: ColumnDef<T>): void {\n        var colId = String(col.field);\n        var idx = this.groupModel.findIndex((g) => g.colId === colId);\n        var next = this.groupModel.slice();\n        if (idx === -1) next.push({ colId });\n        else next.splice(idx, 1);\n        this.groupModel = next;\n        if (!next.length) this.expandedGroups.clear();\n        this.recompute();\n    }\n\n    isGrouped(col: ColumnDef<T>): boolean {\n        return this.groupModel.some((g) => g.colId === String(col.field));\n    }\n\n    isGroupRow(row: RowView<T>): row is GroupViewRow<T> {\n        return !!(row as any).__group;\n    }\n\n    isExpanded(row: GroupViewRow<T>): boolean {\n        return this.expandedGroups.has(row.path);\n    }\n\n    toggleGroupExpand(row: GroupViewRow<T>): void {\n        if (this.expandedGroups.has(row.path)) this.expandedGroups.delete(row.path);\n        else this.expandedGroups.add(row.path);\n        this.recompute();\n    }\n\n    getGroupAgg(row: GroupViewRow<T>, col: ColumnDef<T>): any {\n        return row.agg[String(col.field)] ?? '';\n    }\n\n    private getLeafRows(): T[] {\n        return (this.viewRows as Array<RowView<T>>).filter((r) => !this.isGroupRow(r)) as T[];\n    }\n\n    private buildAggModel(): AggModelItem[] {\n        var sample = (this.rowData && this.rowData.length) ? this.rowData[0] : null;\n        return this.mergedCols\n            .map(function (c) {\n                var agg = c.aggFunc;\n                if (!agg && sample) {\n                    var v = getCellValue(c, sample as any);\n                    agg = typeof v === 'number' ? 'sum' : 'count';\n                }\n                if (!agg) agg = 'count';\n                return { colId: String(c.field), aggFunc: agg };\n            });\n    }\n\n    trackByRow = (_i: number, row: RowView<T>): string | number => {\n        if (this.isGroupRow(row)) return 'g:' + (row as GroupViewRow<T>).path;\n        // Use index to avoid duplicate keys from object stringification\n        return 'r:' + _i;\n    };\n\n    trackByCol(_i: number, col: ColumnDef<T>): string {\n        return String(col.field);\n    }\n\n    isValueCol(col: ColumnDef<T>): boolean {\n        return this.pivotModel.valueCols.some((v) => v.colId === String(col.field));\n    }\n\n    toggleValueCol(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        var next = this.pivotModel.valueCols.slice();\n        var idx = next.findIndex((v) => v.colId === id);\n        if (idx === -1) next.push({ colId: id, aggFunc: col.aggFunc || 'sum' });\n        else next.splice(idx, 1);\n        this.pivotModel = Object.assign({}, this.pivotModel, { valueCols: next });\n        this.recompute();\n    }\n\n    onPivotToggle(enabled: any): void {\n        this.pivotModel = Object.assign({}, this.pivotModel, { enabled: !!enabled });\n        this.recompute();\n    }\n\n    onPivotConfigChange(val?: any): void {\n        // Ensure undefined when cleared\n        if (val === '' || val === null) val = undefined;\n        this.pivotModel = Object.assign({}, this.pivotModel, { pivotCol: val });\n        this.recompute();\n    }\n\n    getColWidth(col: ColumnDef<T>): number {\n        var id = String(col.field);\n        return this.colWidths[id] ?? (col.width || 160);\n    }\n\n    toggleMenu(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        this.menuOpenFor = this.menuOpenFor === id ? null : id;\n        this.cdr.markForCheck();\n    }\n\n    closeMenu(): void {\n        this.menuOpenFor = null;\n        this.cdr.markForCheck();\n    }\n\n    sortAsc(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        var next = this.sortModel.filter((m) => m.colId !== id);\n        next.unshift({ colId: id, sort: 'asc' });\n        this.sortModel = next;\n        this.recompute();\n        this.closeMenu();\n    }\n\n    sortDesc(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        var next = this.sortModel.filter((m) => m.colId !== id);\n        next.unshift({ colId: id, sort: 'desc' });\n        this.sortModel = next;\n        this.recompute();\n        this.closeMenu();\n    }\n\n    clearSort(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        this.sortModel = this.sortModel.filter((m) => m.colId !== id);\n        this.recompute();\n        this.closeMenu();\n    }\n\n    clearFilterFor(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        this.filterModel = this.filterModel.filter((f) => f.colId !== id);\n        delete this.filterInputs[id];\n        this.recompute();\n        this.closeMenu();\n    }\n\n    onResizeStart(ev: MouseEvent, col: ColumnDef<T>): void {\n        ev.stopPropagation();\n        ev.preventDefault();\n        var startX = ev.clientX;\n        var id = String(col.field);\n        var startW = this.getColWidth(col);\n        var minW = col.minWidth || 60;\n        var maxW = col.maxWidth || 600;\n        this.zone.runOutsideAngular(() => {\n            var pending = false;\n            var nextWidth = startW;\n            var move = (e: MouseEvent) => {\n                var delta = e.clientX - startX;\n                nextWidth = Math.max(minW, Math.min(maxW, startW + delta));\n                if (!pending) {\n                    pending = true;\n                    this.resizeFrame = requestAnimationFrame(() => {\n                        pending = false;\n                        this.colWidths = Object.assign({}, this.colWidths, { [id]: nextWidth });\n                        this.cdr.markForCheck();\n                    });\n                }\n            };\n            var up = () => {\n                if (this.resizeFrame != null) {\n                    cancelAnimationFrame(this.resizeFrame);\n                    this.resizeFrame = null;\n                }\n                this.resizingCol = null;\n                document.body.style.cursor = '';\n                window.removeEventListener('mousemove', move);\n                window.removeEventListener('mouseup', up);\n                this.zone.run(() => this.cdr.markForCheck());\n            };\n            this.resizingCol = id;\n            document.body.style.cursor = 'col-resize';\n            window.addEventListener('mousemove', move);\n            window.addEventListener('mouseup', up, { once: true });\n            this.zone.run(() => this.cdr.markForCheck());\n        });\n    }\n\n    getFilterValue(col: ColumnDef<T>, part: 'min' | 'max' = 'min'): any {\n        var colId = String(col.field);\n        // Range values cached separately\n        if (part === 'min' || part === 'max') {\n            var cached = this.filterInputs[colId];\n            if (cached) return part === 'min' ? cached.value : cached.valueTo;\n        }\n        // For text / single-value filters, derive from model\n        var hit = this.filterModel.find((f) => f.colId === colId);\n        if (!hit) return '';\n        return part === 'min' ? hit.value ?? '' : hit.valueTo ?? '';\n    }\n}\n\nfunction downloadTextFile(content: string, filename: string, mime: string): void {\n    var blob = new Blob([content], { type: mime });\n    var url = (window.URL || (window as any).webkitURL).createObjectURL(blob);\n\n    var a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.style.display = 'none';\n    document.body.appendChild(a);\n    a.click();\n\n    setTimeout(function () {\n        document.body.removeChild(a);\n        (window.URL || (window as any).webkitURL).revokeObjectURL(url);\n    }, 0);\n}\n\nconst isArrayValid = ($array: any[], $length: number) => {\n    return $array && $array.length > $length ? true : false;\n}\n","<div class=\"og-grid-root\">\n    <div class=\"og-grid-groupbar\" *ngIf=\"mergedCols.length\">\n        <div class=\"og-grid-actions\">\n            <button type=\"button\" class=\"og-grid-btn og-grid-pivot-btn\" (click)=\"showPivotPanel = !showPivotPanel\">\n                {{ showPivotPanel ? 'Hide Pivot' : 'Show Pivot' }}\n            </button>\n        </div>\n        <div class=\"og-grid-group-label\">Group by:</div>\n        <div class=\"og-grid-group-pills\">\n            <label class=\"og-grid-pill\" *ngFor=\"let col of mergedCols\">\n                <input type=\"checkbox\" [checked]=\"isGrouped(col)\" (change)=\"toggleGroup(col)\" />\n                <span>{{ col.headerName || (col.field + '') }}</span>\n            </label>\n            <button type=\"button\" class=\"og-grid-btn\" (click)=\"clearGroups()\">Clear</button>\n        </div>\n    </div>\n\n    <div class=\"og-grid-header\">\n        <div class=\"og-grid-header-cell og-grid-select\" *ngIf=\"showSelectionColumn && showSelection \">\n            <input type=\"checkbox\" [checked]=\"allSelected\" (change)=\"toggleAll()\" />\n        </div>\n\n        <div class=\"og-grid-header-cell\" *ngFor=\"let col of mergedCols; let ci = index; trackBy: trackByCol\"\n            [style.width.px]=\"getColWidth(col)\" (click)=\"onHeaderClick(col, $event)\"\n            [class.og-grid-sortable]=\"!!col.sortable\" title=\"Click to sort\">\n            <span class=\"og-grid-header-title\">\n                {{ col.headerName || (col.field + '') }}\n            </span>\n            <span class=\"og-grid-sort-ind\">{{ getSortIndicator(col) }}</span>\n            <span class=\"og-grid-header-menu\" (click)=\"toggleMenu(col); $event.stopPropagation()\">\n                ⋮\n            </span>\n            <div class=\"og-grid-menu\" *ngIf=\"menuOpenFor === (col.field + '')\" (click)=\"$event.stopPropagation()\">\n                <button type=\"button\" (click)=\"sortAsc(col)\">Sort Ascending</button>\n                <button type=\"button\" (click)=\"sortDesc(col)\">Sort Descending</button>\n                <button type=\"button\" (click)=\"clearSort(col)\">Clear Sort</button>\n                <hr />\n                <button type=\"button\" (click)=\"clearFilterFor(col)\">Clear Filter</button>\n                <button type=\"button\" (click)=\"clearFilters()\">Clear All Filters</button>\n            </div>\n            <span class=\"og-grid-resizer\" (mousedown)=\"onResizeStart($event, col)\"></span>\n        </div>\n    </div>\n\n    <div class=\"og-grid-pivot-panel\" *ngIf=\"showPivotPanel\">\n        <div class=\"og-grid-pivot-toggle\">\n            <label><input type=\"checkbox\" [(ngModel)]=\"pivotModel.enabled\" (ngModelChange)=\"onPivotToggle($event)\" />\n                Pivot Mode</label>\n        </div>\n        <div class=\"og-grid-pivot-section\">\n            <div class=\"og-grid-pivot-title\">Pivot Column</div>\n            <select [(ngModel)]=\"pivotModel.pivotCol\" (ngModelChange)=\"onPivotConfigChange($event)\">\n                <option [ngValue]=\"undefined\">None</option>\n                <option *ngFor=\"let col of columnDefs\" [ngValue]=\"col.field\">{{ col.headerName || (col.field + '') }}\n                </option>\n            </select>\n        </div>\n        <div class=\"og-grid-pivot-section\">\n            <div class=\"og-grid-pivot-title\">Row Groups</div>\n            <div class=\"og-grid-pivot-list\">\n                <label *ngFor=\"let col of columnDefs\">\n                    <input type=\"checkbox\" [checked]=\"isGrouped(col)\" (change)=\"toggleGroup(col)\" />\n                    {{ col.headerName || (col.field + '') }}\n                </label>\n            </div>\n        </div>\n        <div class=\"og-grid-pivot-section\">\n            <div class=\"og-grid-pivot-title\">Values</div>\n            <div class=\"og-grid-pivot-list\">\n                <label *ngFor=\"let col of columnDefs\">\n                    <input type=\"checkbox\" [checked]=\"isValueCol(col)\" (change)=\"toggleValueCol(col)\" />\n                    {{ col.headerName || (col.field + '') }}\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"og-grid-filter\" *ngIf=\"mergedCols.length\">\n        <div class=\"og-grid-filter-cell og-grid-select\" *ngIf=\"showSelectionColumn\">\n            <button type=\"button\" class=\"og-grid-btn\" (click)=\"clearFilters()\">Clear</button>\n        </div>\n\n        <div class=\"og-grid-filter-cell\" *ngFor=\"let col of mergedCols; trackBy: trackByCol\"\n            [style.width.px]=\"getColWidth(col)\">\n            <ng-container [ngSwitch]=\"col.filter || 'text'\">\n                <ng-container *ngSwitchCase=\"'text'\">\n                    <input type=\"text\" placeholder=\"Filter...\" [ngModel]=\"filterInputs[col.field]?.value || ''\"\n                        (ngModelChange)=\"onTextFilterInput(col, $event, true)\" />\n                    <div class=\"og-grid-filter-mode-row\">\n                        <select (change)=\"onTextModeChange(col, $any($event.target).value)\">\n                            <option value=\"contains\">Contains</option>\n                            <option value=\"startsWith\">Starts with</option>\n                            <option value=\"equals\">Equals</option>\n                        </select>\n                    </div>\n                </ng-container>\n\n                <div *ngSwitchCase=\"'number'\" class=\"og-grid-filter-range\">\n                    <input type=\"number\" placeholder=\"Min\" [ngModel]=\"filterInputs[col.field]?.value || ''\"\n                        (ngModelChange)=\"onRangeInput(col, 'min', $event)\" />\n                    <input type=\"number\" data-max placeholder=\"Max\" [ngModel]=\"filterInputs[col.field]?.valueTo || ''\"\n                        (ngModelChange)=\"onRangeInput(col, 'max', $event)\" />\n                </div>\n\n                <div *ngSwitchCase=\"'date'\" class=\"og-grid-filter-range\">\n                    <input type=\"date\" placeholder=\"From\" [ngModel]=\"filterInputs[col.field]?.value || ''\"\n                        (ngModelChange)=\"onRangeInput(col, 'min', $event)\" />\n                    <input type=\"date\" data-max placeholder=\"To\" [ngModel]=\"filterInputs[col.field]?.valueTo || ''\"\n                        (ngModelChange)=\"onRangeInput(col, 'max', $event)\" />\n                </div>\n\n                <input *ngSwitchDefault type=\"text\" placeholder=\"Filter...\"\n                    [ngModel]=\"filterInputs[col.field]?.value || ''\" (ngModelChange)=\"onFilterChange(col, $event)\" />\n            </ng-container>\n        </div>\n    </div>\n\n    <div class=\"og-grid-body\">\n        <div class=\"og-grid-row\" *ngFor=\"let row of viewRows; let ri = index; trackBy: trackByRow\"\n            [class.og-grid-row-selected]=\"isRowSelected(row)\" [class.og-grid-group-row]=\"isGroupRow(row)\">\n            <div class=\"og-grid-cell og-grid-select\" *ngIf=\"showSelectionColumn\">\n                <ng-container *ngIf=\"!isGroupRow(row); else groupToggle\">\n                    <input *ngIf=\"showSelection\" type=\"checkbox\" [checked]=\"isRowSelected(row)\"\n                        (change)=\"toggleRowSelection(row)\" />\n                </ng-container>\n                <ng-template #groupToggle>\n                    <button type=\"button\" class=\"og-grid-toggle\" (click)=\"toggleGroupExpand($any(row))\">\n                        {{ isExpanded($any(row)) ? '▾' : '▸' }}\n                    </button>\n                </ng-template>\n            </div>\n\n            <div class=\"og-grid-cell\" *ngFor=\"let col of mergedCols; let ci = index\"\n                [style.width.px]=\"getColWidth(col)\">\n                <ng-container *ngIf=\"!isGroupRow(row); else groupCell\">\n                    {{ renderCell(col, $any(row)) }}\n                </ng-container>\n                <ng-template #groupCell>\n                    <ng-container *ngIf=\"ci === 0; else aggCell\">\n                        <span class=\"og-grid-indent\" [style.paddingLeft.px]=\"($any(row).level * 14)\"></span>\n                        <strong>{{ $any(row).key ?? '(blank)' }}</strong>\n                        <span class=\"og-grid-count\">({{ $any(row).count }})</span>\n                    </ng-container>\n                    <ng-template #aggCell>\n                        {{ getGroupAgg($any(row), col) }}\n                    </ng-template>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { OgGridComponent } from './og-grid.component';\n\n@NgModule({\n    declarations: [OgGridComponent],\n    imports: [CommonModule, FormsModule],\n    exports: [OgGridComponent],\n})\nexport class OgGridModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}