{"version":3,"file":"og-grid-angular.umd.js","sources":["../../../projects/og-grid-angular/src/lib/og-grid.component.ts","../../../projects/og-grid-angular/src/lib/og-grid.component.html","../../../projects/og-grid-angular/src/lib/og-grid.module.ts","../../../projects/og-grid-angular/src/og-grid-angular.ts"],"sourcesContent":["import {\n    Component,\n    ChangeDetectionStrategy,\n    Input,\n    OnChanges,\n    SimpleChanges,\n    ChangeDetectorRef,\n    NgZone,\n    HostListener,\n    ElementRef,\n    OnInit,\n} from '@angular/core';\n\nimport {\n    ColumnDef,\n    GridOptions,\n    GridApi,\n    SortModelItem,\n    FilterModelItem,\n    GroupModelItem,\n    PivotModel,\n    AggModelItem,\n    GroupViewRow,\n    RowView,\n    mergeColDef,\n    sortRows,\n    filterRows,\n    groupAndFlattenRows,\n    pivotRows,\n    toCsv,\n    getCellValue,\n} from 'og-grid-core';\n\n\n@Component({\n    selector: 'og-grid',\n    templateUrl: './og-grid.component.html',\n    styleUrls: ['./og-grid.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class OgGridComponent<T = any> implements OnInit, OnChanges {\n    @Input() columnDefs: ColumnDef<T>[] = [];\n    @Input() rowData: T[] = [];\n    @Input() options: Partial<GridOptions<T>> = {};\n    @Input() showSelection: boolean = true; // explicit toggle for checkbox column\n\n    // Optional: expose API to parent via template ref: #grid then grid.api.exportCsv()\n    api: GridApi<T>;\n\n    mergedCols: ColumnDef<T>[] = [];\n    viewRows: RowView<T>[] = [];\n\n    sortModel: SortModelItem[] = [];\n    filterModel: FilterModelItem[] = [];\n    groupModel: GroupModelItem[] = [];\n    pivotModel: PivotModel = { rowGroupCols: [], valueCols: [], pivotCol: undefined, enabled: false };\n    expandedGroups = new Set<string>();\n    filterInputs: Record<string, { value?: any; valueTo?: any }> = {};\n    private filterModes: Record<string, 'contains' | 'startsWith' | 'equals'> = {};\n    private filterDebounce: Record<string, any> = {};\n    private colWidths: Record<string, number> = {};\n    menuOpenFor: string | null = null;\n    private resizeFrame: number | null = null;\n    private resizingCol: string | null = null;\n    showPivotPanel = true;\n\n    private selected = new Set<T>(); // track by row object references\n\n    constructor(private cdr: ChangeDetectorRef, private zone: NgZone, private host: ElementRef<HTMLElement>) {\n        var self = this;\n\n        this.api = {\n            setRowData: function (data: T[]) {\n                self.rowData = data || [];\n                self.recompute();\n            },\n            setColumnDefs: function (cols: ColumnDef<T>[]) {\n                self.columnDefs = cols || [];\n                self.recompute();\n            },\n            setSortModel: function (model: SortModelItem[]) {\n                self.sortModel = model || [];\n                self.recompute();\n            },\n            setFilterModel: function (model: FilterModelItem[]) {\n                self.filterModel = model || [];\n                self.recompute();\n            },\n            getSortModel: function () {\n                return self.sortModel.slice();\n            },\n            getFilterModel: function () {\n                return self.filterModel.slice();\n            },\n            setGroupModel: function (model: GroupModelItem[]) {\n                self.groupModel = model || [];\n                self.recompute();\n            },\n            getGroupModel: function () {\n                return self.groupModel.slice();\n            },\n            setExpandedGroups: function (paths: string[]) {\n                self.expandedGroups = new Set(paths || []);\n                self.recompute();\n            },\n            getExpandedGroups: function () {\n                return Array.from(self.expandedGroups);\n            },\n            setPivotModel: function (model: PivotModel) {\n                self.pivotModel = model || { rowGroupCols: [], valueCols: [], pivotCol: undefined, enabled: false };\n                self.recompute();\n            },\n            getPivotModel: function () {\n                return Object.assign({}, self.pivotModel);\n            },\n            getSelectedRows: function () {\n                return Array.from(self.selected);\n            },\n            exportCsv: function (filename?: string) {\n                var name = filename || 'og-grid-export.csv';\n                var csv = toCsv(self.getLeafRows(), self.mergedCols);\n                downloadTextFile(csv, name, 'text/csv;charset=utf-8;');\n            },\n        };\n    }\n\n    ngOnInit(): void {\n        this.setColumns();\n    }\n\n    setColumns() {\n        if (!isArrayValid(this.columnDefs, 0) && isArrayValid(this.rowData, 0)) {\n            this.columnDefs = this.buildColumnDefs(this.rowData);\n        }\n    }\n\n    inferType(val: any) {\n        if (val === null || val === undefined) return 'text';\n        if (typeof val === 'number') return 'number';\n        const d = new Date(val);\n        if (!isNaN(d.getTime()) && /[T:\\-\\/]/.test(String(val))) return 'date';\n        if (!isNaN(Number(val)) && val !== '') return 'number';\n        return 'text';\n    }\n\n    buildColumnDefs(data: any[]) {\n        if (!data.length) return [];\n        return Object.keys(data[0]).map(k => {\n            let sample = data.find(r => r[k] != null)?.[k];\n            const t = this.inferType(sample);\n            const col: any = {\n                field: k, headerName: this.generateHeaderFromKey(k), filter: true, sortable: true, resizable: true,\n                enableRowGroup: true, enablePivot: true, enableValue: true\n            };\n            if (t === 'number') { col.aggFunc = 'sum'; }\n            if (t === 'date') { col.filter = 'agDateColumnFilter'; }\n            return col;\n        });\n    }\n\n    generateHeaderFromKey(key: any) {\n        return key\n            // Insert space before uppercase letters (for camelCase)\n            .replace(/([A-Z])/g, ' $1')\n            // Replace common separators with spaces\n            .replace(/[_-]/g, ' ')\n            // Handle acronyms and special cases (multiple capitals in a row)\n            .replace(/([A-Z]+)([A-Z][a-z])/g, '$1 $2')\n            // Clean up multiple spaces\n            .replace(/\\s+/g, ' ')\n            // Trim and convert to title case\n            .trim()\n            .split(' ')\n            .map((word: any) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n            .join(' ');\n    }\n\n\n\n    @HostListener('document:click', ['$event'])\n    onDocClick(ev: MouseEvent): void {\n        if (!this.menuOpenFor) return;\n        if (this.host && this.host.nativeElement.contains(ev.target as Node)) {\n            // clicks inside component: ignore unless on menu toggle handled elsewhere\n            return;\n        }\n        this.menuOpenFor = null;\n        this.cdr.markForCheck();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.setColumns();\n        if (\n            changes.columnDefs ||\n            changes.rowData ||\n            changes.options\n        ) {\n            this.recompute();\n        }\n    }\n\n    private recompute(): void {\n        var def = (this.options && this.options.defaultColDef) || {};\n        this.mergedCols = (this.columnDefs || []).map(function (c) {\n            return mergeColDef(c, def);\n        });\n\n        var filtered = filterRows(this.rowData || [], this.mergedCols, this.filterModel);\n        var sorted = sortRows(filtered, this.mergedCols, this.sortModel);\n\n        if (this.pivotModel.enabled && this.pivotModel.pivotCol && this.pivotModel.valueCols.length) {\n            var pivoted = pivotRows(sorted, this.mergedCols, this.pivotModel, this.expandedGroups);\n            // replace columns with dynamic pivot cols only (no original data cols for now)\n            this.viewRows = pivoted.rows;\n            this.mergedCols = pivoted.dynamicCols;\n            this.expandedGroups.clear();\n        } else if (this.groupModel.length) {\n            var aggModel = this.buildAggModel();\n            var grouped = groupAndFlattenRows(sorted, this.mergedCols, this.groupModel, aggModel, this.expandedGroups);\n            // Ensure new groups are expanded by default\n            grouped.paths.forEach((p) => this.expandedGroups.add(p));\n            this.viewRows = grouped.flat;\n        } else {\n            this.viewRows = sorted;\n            this.expandedGroups.clear();\n        }\n\n        // Reset selection if it would become invalid\n        var next = new Set<T>();\n        var leaves = this.getLeafRows();\n        this.selected.forEach((row) => {\n            if (leaves.indexOf(row) >= 0) next.add(row);\n        });\n        this.selected = next;\n    }\n\n    // ---- UI actions ----\n\n    onHeaderClick(col: ColumnDef<T>, ev?: MouseEvent): void {\n        if (!col.sortable) return;\n        // If menu is open for this column, don't toggle sort\n        if (this.menuOpenFor === String(col.field)) return;\n\n        var colId = String(col.field);\n        var multi = !!(this.options && this.options.multiSort) || !!(ev && ev.shiftKey);\n\n        var next = multi ? this.sortModel.slice() : [];\n        var idx = next.findIndex(function (m) {\n            return m.colId === colId;\n        });\n\n        if (idx === -1) {\n            next.push({ colId: colId, sort: 'asc' });\n        } else {\n            var current = next[idx];\n            if (current.sort === 'asc') next[idx] = { colId: colId, sort: 'desc' };\n            else next.splice(idx, 1); // remove -> unsorted\n        }\n\n        this.recompute();\n    }\n\n    getSortIndicator(col: ColumnDef<T>): string {\n        if (!this.sortModel.length) return '';\n        var idx = this.sortModel.findIndex((m) => m.colId === String(col.field));\n        if (idx === -1) return '';\n        var mark = this.sortModel[idx].sort === 'asc' ? '▲' : '▼';\n        return this.sortModel.length > 1 ? mark + ' ' + (idx + 1) : mark;\n    }\n\n    isRowSelected(row: RowView<T>): boolean {\n        if (this.isGroupRow(row)) return false;\n        return this.selected.has(row as T);\n    }\n\n    toggleRowSelection(row: RowView<T>, ev?: MouseEvent): void {\n        if (!this.showSelectionColumn) return;\n        if (this.isGroupRow(row)) return;\n        var mode = (this.options && this.options.rowSelection) || 'single';\n\n        if (mode === 'single') {\n            this.selected.clear();\n            this.selected.add(row as T);\n            return;\n        }\n\n        // multiple\n        if (this.selected.has(row as T)) this.selected.delete(row as T);\n        else this.selected.add(row as T);\n    }\n\n    toggleAll(): void {\n        if (!this.showSelectionColumn) return;\n        var leaves = this.getLeafRows();\n        if (leaves.length === 0) return;\n\n        if (this.selected.size === leaves.length) {\n            this.selected.clear();\n            return;\n        }\n\n        this.selected.clear();\n        leaves.forEach((r) => this.selected.add(r));\n    }\n\n    get allSelected(): boolean {\n        if (!this.showSelectionColumn) return false;\n        var leaves = this.getLeafRows();\n        return leaves.length > 0 && this.selected.size === leaves.length;\n    }\n\n    renderCell(col: ColumnDef<T>, row: T): any {\n        var value = getCellValue(col, row);\n        return col.valueFormatter ? col.valueFormatter(value, row) : value;\n    }\n\n    get showSelectionColumn(): boolean {\n        return this.options.showSelection !== false;\n    }\n\n    onFilterChange(col: ColumnDef<T>, value: any, valueTo?: any): void {\n        var colId = String(col.field);\n        var mode = this.filterModes[colId] || (col as any).filterMatchMode || 'contains';\n        var next = this.filterModel.filter(function (f) {\n            return f.colId !== colId;\n        });\n\n        var hasRange = valueTo !== undefined && valueTo !== null && valueTo !== '';\n        var hasValue = value !== undefined && value !== null && value !== '';\n        if (hasValue || hasRange) {\n            var type = typeof col.filter === 'string' ? col.filter : undefined;\n            next.push({ colId, type, value, valueTo, matchMode: mode as any } as any);\n        }\n\n        this.filterModel = next;\n        this.recompute();\n    }\n\n    onRangeInput(col: ColumnDef<T>, part: 'min' | 'max', value: any): void {\n        var colId = String(col.field);\n        var current = this.filterInputs[colId] || {};\n        if (part === 'min') current.value = value;\n        else current.valueTo = value;\n        this.filterInputs[colId] = current;\n        this.onFilterChange(col, current.value, current.valueTo);\n    }\n\n    onTextFilterInput(col: ColumnDef<T>, raw: any, instant?: boolean): void {\n        var colId = String(col.field);\n        this.filterInputs[colId] = this.filterInputs[colId] || {};\n        this.filterInputs[colId].value = raw;\n        if (instant) {\n            this.onFilterChange(col, raw, undefined);\n            return;\n        }\n        // debounce per column\n        clearTimeout(this.filterDebounce[colId]);\n        this.filterDebounce[colId] = setTimeout(() => {\n            this.onFilterChange(col, raw, undefined);\n        }, 150);\n    }\n\n    onTextModeChange(col: ColumnDef<T>, mode: 'contains' | 'startsWith' | 'equals'): void {\n        var colId = String(col.field);\n        this.filterModes[colId] = mode;\n        // Reapply current filter value with new mode\n        var existing = this.filterModel.find((f) => f.colId === colId);\n        var val = existing ? existing.value : '';\n        this.onFilterChange(col, val, existing ? existing.valueTo : undefined);\n    }\n\n    clearFilters(): void {\n        this.filterModel = [];\n        this.filterInputs = {};\n        this.filterModes = {};\n        this.recompute();\n        this.cdr.markForCheck();\n    }\n\n    clearGroups(): void {\n        this.groupModel = [];\n        this.expandedGroups.clear();\n        this.recompute();\n    }\n\n    toggleGroup(col: ColumnDef<T>): void {\n        var colId = String(col.field);\n        var idx = this.groupModel.findIndex((g) => g.colId === colId);\n        var next = this.groupModel.slice();\n        if (idx === -1) next.push({ colId });\n        else next.splice(idx, 1);\n        this.groupModel = next;\n        if (!next.length) this.expandedGroups.clear();\n        this.recompute();\n    }\n\n    isGrouped(col: ColumnDef<T>): boolean {\n        return this.groupModel.some((g) => g.colId === String(col.field));\n    }\n\n    isGroupRow(row: RowView<T>): row is GroupViewRow<T> {\n        return !!(row as any).__group;\n    }\n\n    isExpanded(row: GroupViewRow<T>): boolean {\n        return this.expandedGroups.has(row.path);\n    }\n\n    toggleGroupExpand(row: GroupViewRow<T>): void {\n        if (this.expandedGroups.has(row.path)) this.expandedGroups.delete(row.path);\n        else this.expandedGroups.add(row.path);\n        this.recompute();\n    }\n\n    getGroupAgg(row: GroupViewRow<T>, col: ColumnDef<T>): any {\n        return row.agg[String(col.field)] ?? '';\n    }\n\n    private getLeafRows(): T[] {\n        return (this.viewRows as Array<RowView<T>>).filter((r) => !this.isGroupRow(r)) as T[];\n    }\n\n    private buildAggModel(): AggModelItem[] {\n        var sample = (this.rowData && this.rowData.length) ? this.rowData[0] : null;\n        return this.mergedCols\n            .map(function (c) {\n                var agg = c.aggFunc;\n                if (!agg && sample) {\n                    var v = getCellValue(c, sample as any);\n                    agg = typeof v === 'number' ? 'sum' : 'count';\n                }\n                if (!agg) agg = 'count';\n                return { colId: String(c.field), aggFunc: agg };\n            });\n    }\n\n    trackByRow = (_i: number, row: RowView<T>): string | number => {\n        if (this.isGroupRow(row)) return 'g:' + (row as GroupViewRow<T>).path;\n        // Use index to avoid duplicate keys from object stringification\n        return 'r:' + _i;\n    };\n\n    trackByCol(_i: number, col: ColumnDef<T>): string {\n        return String(col.field);\n    }\n\n    isValueCol(col: ColumnDef<T>): boolean {\n        return this.pivotModel.valueCols.some((v) => v.colId === String(col.field));\n    }\n\n    toggleValueCol(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        var next = this.pivotModel.valueCols.slice();\n        var idx = next.findIndex((v) => v.colId === id);\n        if (idx === -1) next.push({ colId: id, aggFunc: col.aggFunc || 'sum' });\n        else next.splice(idx, 1);\n        this.pivotModel = Object.assign({}, this.pivotModel, { valueCols: next });\n        this.recompute();\n    }\n\n    onPivotToggle(enabled: any): void {\n        this.pivotModel = Object.assign({}, this.pivotModel, { enabled: !!enabled });\n        this.recompute();\n    }\n\n    onPivotConfigChange(val?: any): void {\n        // Ensure undefined when cleared\n        if (val === '' || val === null) val = undefined;\n        this.pivotModel = Object.assign({}, this.pivotModel, { pivotCol: val });\n        this.recompute();\n    }\n\n    getColWidth(col: ColumnDef<T>): number {\n        var id = String(col.field);\n        return this.colWidths[id] ?? (col.width || 160);\n    }\n\n    toggleMenu(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        this.menuOpenFor = this.menuOpenFor === id ? null : id;\n        this.cdr.markForCheck();\n    }\n\n    closeMenu(): void {\n        this.menuOpenFor = null;\n        this.cdr.markForCheck();\n    }\n\n    sortAsc(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        var next = this.sortModel.filter((m) => m.colId !== id);\n        next.unshift({ colId: id, sort: 'asc' });\n        this.sortModel = next;\n        this.recompute();\n        this.closeMenu();\n    }\n\n    sortDesc(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        var next = this.sortModel.filter((m) => m.colId !== id);\n        next.unshift({ colId: id, sort: 'desc' });\n        this.sortModel = next;\n        this.recompute();\n        this.closeMenu();\n    }\n\n    clearSort(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        this.sortModel = this.sortModel.filter((m) => m.colId !== id);\n        this.recompute();\n        this.closeMenu();\n    }\n\n    clearFilterFor(col: ColumnDef<T>): void {\n        var id = String(col.field);\n        this.filterModel = this.filterModel.filter((f) => f.colId !== id);\n        delete this.filterInputs[id];\n        this.recompute();\n        this.closeMenu();\n    }\n\n    onResizeStart(ev: MouseEvent, col: ColumnDef<T>): void {\n        ev.stopPropagation();\n        ev.preventDefault();\n        var startX = ev.clientX;\n        var id = String(col.field);\n        var startW = this.getColWidth(col);\n        var minW = col.minWidth || 60;\n        var maxW = col.maxWidth || 600;\n        this.zone.runOutsideAngular(() => {\n            var pending = false;\n            var nextWidth = startW;\n            var move = (e: MouseEvent) => {\n                var delta = e.clientX - startX;\n                nextWidth = Math.max(minW, Math.min(maxW, startW + delta));\n                if (!pending) {\n                    pending = true;\n                    this.resizeFrame = requestAnimationFrame(() => {\n                        pending = false;\n                        this.colWidths = Object.assign({}, this.colWidths, { [id]: nextWidth });\n                        this.cdr.markForCheck();\n                    });\n                }\n            };\n            var up = () => {\n                if (this.resizeFrame != null) {\n                    cancelAnimationFrame(this.resizeFrame);\n                    this.resizeFrame = null;\n                }\n                this.resizingCol = null;\n                document.body.style.cursor = '';\n                window.removeEventListener('mousemove', move);\n                window.removeEventListener('mouseup', up);\n                this.zone.run(() => this.cdr.markForCheck());\n            };\n            this.resizingCol = id;\n            document.body.style.cursor = 'col-resize';\n            window.addEventListener('mousemove', move);\n            window.addEventListener('mouseup', up, { once: true });\n            this.zone.run(() => this.cdr.markForCheck());\n        });\n    }\n\n    getFilterValue(col: ColumnDef<T>, part: 'min' | 'max' = 'min'): any {\n        var colId = String(col.field);\n        // Range values cached separately\n        if (part === 'min' || part === 'max') {\n            var cached = this.filterInputs[colId];\n            if (cached) return part === 'min' ? cached.value : cached.valueTo;\n        }\n        // For text / single-value filters, derive from model\n        var hit = this.filterModel.find((f) => f.colId === colId);\n        if (!hit) return '';\n        return part === 'min' ? hit.value ?? '' : hit.valueTo ?? '';\n    }\n}\n\nfunction downloadTextFile(content: string, filename: string, mime: string): void {\n    var blob = new Blob([content], { type: mime });\n    var url = (window.URL || (window as any).webkitURL).createObjectURL(blob);\n\n    var a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.style.display = 'none';\n    document.body.appendChild(a);\n    a.click();\n\n    setTimeout(function () {\n        document.body.removeChild(a);\n        (window.URL || (window as any).webkitURL).revokeObjectURL(url);\n    }, 0);\n}\n\nconst isArrayValid = ($array: any[], $length: number) => {\n    return $array && $array.length > $length ? true : false;\n}\n","<div class=\"og-grid-root\">\n    <div class=\"og-grid-groupbar\" *ngIf=\"mergedCols.length\">\n        <div class=\"og-grid-actions\">\n            <button type=\"button\" class=\"og-grid-btn og-grid-pivot-btn\" (click)=\"showPivotPanel = !showPivotPanel\">\n                {{ showPivotPanel ? 'Hide Pivot' : 'Show Pivot' }}\n            </button>\n        </div>\n        <div class=\"og-grid-group-label\">Group by:</div>\n        <div class=\"og-grid-group-pills\">\n            <label class=\"og-grid-pill\" *ngFor=\"let col of mergedCols\">\n                <input type=\"checkbox\" [checked]=\"isGrouped(col)\" (change)=\"toggleGroup(col)\" />\n                <span>{{ col.headerName || (col.field + '') }}</span>\n            </label>\n            <button type=\"button\" class=\"og-grid-btn\" (click)=\"clearGroups()\">Clear</button>\n        </div>\n    </div>\n\n    <div class=\"og-grid-header\">\n        <div class=\"og-grid-header-cell og-grid-select\" *ngIf=\"showSelectionColumn && showSelection \">\n            <input type=\"checkbox\" [checked]=\"allSelected\" (change)=\"toggleAll()\" />\n        </div>\n\n        <div class=\"og-grid-header-cell\" *ngFor=\"let col of mergedCols; let ci = index; trackBy: trackByCol\"\n            [style.width.px]=\"getColWidth(col)\" (click)=\"onHeaderClick(col, $event)\"\n            [class.og-grid-sortable]=\"!!col.sortable\" title=\"Click to sort\">\n            <span class=\"og-grid-header-title\">\n                {{ col.headerName || (col.field + '') }}\n            </span>\n            <span class=\"og-grid-sort-ind\">{{ getSortIndicator(col) }}</span>\n            <span class=\"og-grid-header-menu\" (click)=\"toggleMenu(col); $event.stopPropagation()\">\n                ⋮\n            </span>\n            <div class=\"og-grid-menu\" *ngIf=\"menuOpenFor === (col.field + '')\" (click)=\"$event.stopPropagation()\">\n                <button type=\"button\" (click)=\"sortAsc(col)\">Sort Ascending</button>\n                <button type=\"button\" (click)=\"sortDesc(col)\">Sort Descending</button>\n                <button type=\"button\" (click)=\"clearSort(col)\">Clear Sort</button>\n                <hr />\n                <button type=\"button\" (click)=\"clearFilterFor(col)\">Clear Filter</button>\n                <button type=\"button\" (click)=\"clearFilters()\">Clear All Filters</button>\n            </div>\n            <span class=\"og-grid-resizer\" (mousedown)=\"onResizeStart($event, col)\"></span>\n        </div>\n    </div>\n\n    <div class=\"og-grid-pivot-panel\" *ngIf=\"showPivotPanel\">\n        <div class=\"og-grid-pivot-toggle\">\n            <label><input type=\"checkbox\" [(ngModel)]=\"pivotModel.enabled\" (ngModelChange)=\"onPivotToggle($event)\" />\n                Pivot Mode</label>\n        </div>\n        <div class=\"og-grid-pivot-section\">\n            <div class=\"og-grid-pivot-title\">Pivot Column</div>\n            <select [(ngModel)]=\"pivotModel.pivotCol\" (ngModelChange)=\"onPivotConfigChange($event)\">\n                <option [ngValue]=\"undefined\">None</option>\n                <option *ngFor=\"let col of columnDefs\" [ngValue]=\"col.field\">{{ col.headerName || (col.field + '') }}\n                </option>\n            </select>\n        </div>\n        <div class=\"og-grid-pivot-section\">\n            <div class=\"og-grid-pivot-title\">Row Groups</div>\n            <div class=\"og-grid-pivot-list\">\n                <label *ngFor=\"let col of columnDefs\">\n                    <input type=\"checkbox\" [checked]=\"isGrouped(col)\" (change)=\"toggleGroup(col)\" />\n                    {{ col.headerName || (col.field + '') }}\n                </label>\n            </div>\n        </div>\n        <div class=\"og-grid-pivot-section\">\n            <div class=\"og-grid-pivot-title\">Values</div>\n            <div class=\"og-grid-pivot-list\">\n                <label *ngFor=\"let col of columnDefs\">\n                    <input type=\"checkbox\" [checked]=\"isValueCol(col)\" (change)=\"toggleValueCol(col)\" />\n                    {{ col.headerName || (col.field + '') }}\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"og-grid-filter\" *ngIf=\"mergedCols.length\">\n        <div class=\"og-grid-filter-cell og-grid-select\" *ngIf=\"showSelectionColumn\">\n            <button type=\"button\" class=\"og-grid-btn\" (click)=\"clearFilters()\">Clear</button>\n        </div>\n\n        <div class=\"og-grid-filter-cell\" *ngFor=\"let col of mergedCols; trackBy: trackByCol\"\n            [style.width.px]=\"getColWidth(col)\">\n            <ng-container [ngSwitch]=\"col.filter || 'text'\">\n                <ng-container *ngSwitchCase=\"'text'\">\n                    <input type=\"text\" placeholder=\"Filter...\" [ngModel]=\"filterInputs[col.field]?.value || ''\"\n                        (ngModelChange)=\"onTextFilterInput(col, $event, true)\" />\n                    <div class=\"og-grid-filter-mode-row\">\n                        <select (change)=\"onTextModeChange(col, $any($event.target).value)\">\n                            <option value=\"contains\">Contains</option>\n                            <option value=\"startsWith\">Starts with</option>\n                            <option value=\"equals\">Equals</option>\n                        </select>\n                    </div>\n                </ng-container>\n\n                <div *ngSwitchCase=\"'number'\" class=\"og-grid-filter-range\">\n                    <input type=\"number\" placeholder=\"Min\" [ngModel]=\"filterInputs[col.field]?.value || ''\"\n                        (ngModelChange)=\"onRangeInput(col, 'min', $event)\" />\n                    <input type=\"number\" data-max placeholder=\"Max\" [ngModel]=\"filterInputs[col.field]?.valueTo || ''\"\n                        (ngModelChange)=\"onRangeInput(col, 'max', $event)\" />\n                </div>\n\n                <div *ngSwitchCase=\"'date'\" class=\"og-grid-filter-range\">\n                    <input type=\"date\" placeholder=\"From\" [ngModel]=\"filterInputs[col.field]?.value || ''\"\n                        (ngModelChange)=\"onRangeInput(col, 'min', $event)\" />\n                    <input type=\"date\" data-max placeholder=\"To\" [ngModel]=\"filterInputs[col.field]?.valueTo || ''\"\n                        (ngModelChange)=\"onRangeInput(col, 'max', $event)\" />\n                </div>\n\n                <input *ngSwitchDefault type=\"text\" placeholder=\"Filter...\"\n                    [ngModel]=\"filterInputs[col.field]?.value || ''\" (ngModelChange)=\"onFilterChange(col, $event)\" />\n            </ng-container>\n        </div>\n    </div>\n\n    <div class=\"og-grid-body\">\n        <div class=\"og-grid-row\" *ngFor=\"let row of viewRows; let ri = index; trackBy: trackByRow\"\n            [class.og-grid-row-selected]=\"isRowSelected(row)\" [class.og-grid-group-row]=\"isGroupRow(row)\">\n            <div class=\"og-grid-cell og-grid-select\" *ngIf=\"showSelectionColumn\">\n                <ng-container *ngIf=\"!isGroupRow(row); else groupToggle\">\n                    <input *ngIf=\"showSelection\" type=\"checkbox\" [checked]=\"isRowSelected(row)\"\n                        (change)=\"toggleRowSelection(row)\" />\n                </ng-container>\n                <ng-template #groupToggle>\n                    <button type=\"button\" class=\"og-grid-toggle\" (click)=\"toggleGroupExpand($any(row))\">\n                        {{ isExpanded($any(row)) ? '▾' : '▸' }}\n                    </button>\n                </ng-template>\n            </div>\n\n            <div class=\"og-grid-cell\" *ngFor=\"let col of mergedCols; let ci = index\"\n                [style.width.px]=\"getColWidth(col)\">\n                <ng-container *ngIf=\"!isGroupRow(row); else groupCell\">\n                    {{ renderCell(col, $any(row)) }}\n                </ng-container>\n                <ng-template #groupCell>\n                    <ng-container *ngIf=\"ci === 0; else aggCell\">\n                        <span class=\"og-grid-indent\" [style.paddingLeft.px]=\"($any(row).level * 14)\"></span>\n                        <strong>{{ $any(row).key ?? '(blank)' }}</strong>\n                        <span class=\"og-grid-count\">({{ $any(row).count }})</span>\n                    </ng-container>\n                    <ng-template #aggCell>\n                        {{ getGroupAgg($any(row), col) }}\n                    </ng-template>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { OgGridComponent } from './og-grid.component';\n\n@NgModule({\n    declarations: [OgGridComponent],\n    imports: [CommonModule, FormsModule],\n    exports: [OgGridComponent],\n})\nexport class OgGridModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["toCsv","mergeColDef","filterRows","sortRows","pivotRows","groupAndFlattenRows","getCellValue","i0","i1","i2","Component","ChangeDetectionStrategy","Input","HostListener","CommonModule","FormsModule","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,QAAA,eAAA,kBAAA,YAAA;IA4BI,IAAA,SAAA,eAAA,CAAoB,GAAsB,EAAU,IAAY,EAAU,IAA6B,EAAA;YAAvG,IAwDC,KAAA,GAAA,IAAA,CAAA;IAxDmB,QAAA,IAAG,CAAA,GAAA,GAAH,GAAG,CAAmB;IAAU,QAAA,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAQ;IAAU,QAAA,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAyB;IA3B9F,QAAA,IAAU,CAAA,UAAA,GAAmB,EAAE,CAAC;IAChC,QAAA,IAAO,CAAA,OAAA,GAAQ,EAAE,CAAC;IAClB,QAAA,IAAO,CAAA,OAAA,GAA4B,EAAE,CAAC;IACtC,QAAA,IAAA,CAAA,aAAa,GAAY,IAAI,CAAC;IAKvC,QAAA,IAAU,CAAA,UAAA,GAAmB,EAAE,CAAC;IAChC,QAAA,IAAQ,CAAA,QAAA,GAAiB,EAAE,CAAC;IAE5B,QAAA,IAAS,CAAA,SAAA,GAAoB,EAAE,CAAC;IAChC,QAAA,IAAW,CAAA,WAAA,GAAsB,EAAE,CAAC;IACpC,QAAA,IAAU,CAAA,UAAA,GAAqB,EAAE,CAAC;YAClC,IAAA,CAAA,UAAU,GAAe,EAAE,YAAY,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAClG,QAAA,IAAA,CAAA,cAAc,GAAG,IAAI,GAAG,EAAU,CAAC;IACnC,QAAA,IAAY,CAAA,YAAA,GAAmD,EAAE,CAAC;IAC1D,QAAA,IAAW,CAAA,WAAA,GAAyD,EAAE,CAAC;IACvE,QAAA,IAAc,CAAA,cAAA,GAAwB,EAAE,CAAC;IACzC,QAAA,IAAS,CAAA,SAAA,GAA2B,EAAE,CAAC;IAC/C,QAAA,IAAW,CAAA,WAAA,GAAkB,IAAI,CAAC;IAC1B,QAAA,IAAW,CAAA,WAAA,GAAkB,IAAI,CAAC;IAClC,QAAA,IAAW,CAAA,WAAA,GAAkB,IAAI,CAAC;IAC1C,QAAA,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;YAEd,IAAA,CAAA,QAAQ,GAAG,IAAI,GAAG,EAAK,CAAC;IAkXhC,QAAA,IAAA,CAAA,UAAU,GAAG,UAAC,EAAU,EAAE,GAAe,EAAA;IACrC,YAAA,IAAI,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC;IAAE,gBAAA,OAAO,IAAI,GAAI,GAAuB,CAAC,IAAI,CAAC;;gBAEtE,OAAO,IAAI,GAAG,EAAE,CAAC;IACrB,SAAC,CAAC;YAnXE,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,CAAC,GAAG,GAAG;gBACP,UAAU,EAAE,UAAU,IAAS,EAAA;IAC3B,gBAAA,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;oBAC1B,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;gBACD,aAAa,EAAE,UAAU,IAAoB,EAAA;IACzC,gBAAA,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;oBAC7B,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;gBACD,YAAY,EAAE,UAAU,KAAsB,EAAA;IAC1C,gBAAA,IAAI,CAAC,SAAS,GAAG,KAAK,IAAI,EAAE,CAAC;oBAC7B,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;gBACD,cAAc,EAAE,UAAU,KAAwB,EAAA;IAC9C,gBAAA,IAAI,CAAC,WAAW,GAAG,KAAK,IAAI,EAAE,CAAC;oBAC/B,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;IACD,YAAA,YAAY,EAAE,YAAA;IACV,gBAAA,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;iBACjC;IACD,YAAA,cAAc,EAAE,YAAA;IACZ,gBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;iBACnC;gBACD,aAAa,EAAE,UAAU,KAAuB,EAAA;IAC5C,gBAAA,IAAI,CAAC,UAAU,GAAG,KAAK,IAAI,EAAE,CAAC;oBAC9B,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;IACD,YAAA,aAAa,EAAE,YAAA;IACX,gBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;iBAClC;gBACD,iBAAiB,EAAE,UAAU,KAAe,EAAA;oBACxC,IAAI,CAAC,cAAc,GAAG,IAAI,GAAG,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;oBAC3C,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;IACD,YAAA,iBAAiB,EAAE,YAAA;oBACf,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;iBAC1C;gBACD,aAAa,EAAE,UAAU,KAAiB,EAAA;oBACtC,IAAI,CAAC,UAAU,GAAG,KAAK,IAAI,EAAE,YAAY,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;oBACpG,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;IACD,YAAA,aAAa,EAAE,YAAA;oBACX,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;iBAC7C;IACD,YAAA,eAAe,EAAE,YAAA;oBACb,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACpC;gBACD,SAAS,EAAE,UAAU,QAAiB,EAAA;IAClC,gBAAA,IAAI,IAAI,GAAG,QAAQ,IAAI,oBAAoB,CAAC;IAC5C,gBAAA,IAAI,GAAG,GAAGA,gBAAK,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IACrD,gBAAA,gBAAgB,CAAC,GAAG,EAAE,IAAI,EAAE,yBAAyB,CAAC,CAAC;iBAC1D;aACJ,CAAC;SACL;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,QAAQ,GAAR,YAAA;YACI,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;IACI,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,IAAI,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;gBACpE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACxD,SAAA;SACJ,CAAA;QAED,eAAS,CAAA,SAAA,CAAA,SAAA,GAAT,UAAU,GAAQ,EAAA;IACd,QAAA,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,SAAS;IAAE,YAAA,OAAO,MAAM,CAAC;YACrD,IAAI,OAAO,GAAG,KAAK,QAAQ;IAAE,YAAA,OAAO,QAAQ,CAAC;IAC7C,QAAA,IAAM,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;IACxB,QAAA,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAAE,YAAA,OAAO,MAAM,CAAC;YACvE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,KAAK,EAAE;IAAE,YAAA,OAAO,QAAQ,CAAC;IACvD,QAAA,OAAO,MAAM,CAAC;SACjB,CAAA;QAED,eAAe,CAAA,SAAA,CAAA,eAAA,GAAf,UAAgB,IAAW,EAAA;YAA3B,IAaC,KAAA,GAAA,IAAA,CAAA;YAZG,IAAI,CAAC,IAAI,CAAC,MAAM;IAAE,YAAA,OAAO,EAAE,CAAC;IAC5B,QAAA,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,EAAA;;IAC7B,YAAA,IAAI,MAAM,GAAG,CAAA,EAAA,GAAA,IAAI,CAAC,IAAI,CAAC,UAAA,CAAC,EAAA,EAAI,OAAA,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAZ,EAAY,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAG,CAAC,CAAC,CAAC;gBAC/C,IAAM,CAAC,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACjC,YAAA,IAAM,GAAG,GAAQ;oBACb,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,KAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI;oBAClG,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI;iBAC7D,CAAC;gBACF,IAAI,CAAC,KAAK,QAAQ,EAAE;IAAE,gBAAA,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC;IAAE,aAAA;gBAC5C,IAAI,CAAC,KAAK,MAAM,EAAE;IAAE,gBAAA,GAAG,CAAC,MAAM,GAAG,oBAAoB,CAAC;IAAE,aAAA;IACxD,YAAA,OAAO,GAAG,CAAC;IACf,SAAC,CAAC,CAAC;SACN,CAAA;QAED,eAAqB,CAAA,SAAA,CAAA,qBAAA,GAArB,UAAsB,GAAQ,EAAA;IAC1B,QAAA,OAAO,GAAG;;IAEL,aAAA,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC;;IAE1B,aAAA,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;;IAErB,aAAA,OAAO,CAAC,uBAAuB,EAAE,OAAO,CAAC;;IAEzC,aAAA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;;IAEpB,aAAA,IAAI,EAAE;iBACN,KAAK,CAAC,GAAG,CAAC;iBACV,GAAG,CAAC,UAAC,IAAS,EAAK,EAAA,OAAA,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAA1D,EAA0D,CAAC;iBAC9E,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB,CAAA;QAKD,eAAU,CAAA,SAAA,CAAA,UAAA,GAAV,UAAW,EAAc,EAAA;YACrB,IAAI,CAAC,IAAI,CAAC,WAAW;gBAAE,OAAO;IAC9B,QAAA,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAc,CAAC,EAAE;;gBAElE,OAAO;IACV,SAAA;IACD,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IACxB,QAAA,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;SAC3B,CAAA;QAED,eAAW,CAAA,SAAA,CAAA,WAAA,GAAX,UAAY,OAAsB,EAAA;YAC9B,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IACI,OAAO,CAAC,UAAU;IAClB,YAAA,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,OAAO,EACjB;gBACE,IAAI,CAAC,SAAS,EAAE,CAAC;IACpB,SAAA;SACJ,CAAA;IAEO,IAAA,eAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;YAAA,IAiCP,KAAA,GAAA,IAAA,CAAA;IAhCG,QAAA,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,KAAK,EAAE,CAAC;IAC7D,QAAA,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,EAAE,GAAG,CAAC,UAAU,CAAC,EAAA;IACrD,YAAA,OAAOC,sBAAW,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IAC/B,SAAC,CAAC,CAAC;IAEH,QAAA,IAAI,QAAQ,GAAGC,qBAAU,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACjF,QAAA,IAAI,MAAM,GAAGC,mBAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IAEjE,QAAA,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,EAAE;IACzF,YAAA,IAAI,OAAO,GAAGC,oBAAS,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;;IAEvF,YAAA,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC;IAC7B,YAAA,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,WAAW,CAAC;IACtC,YAAA,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;IAC/B,SAAA;IAAM,aAAA,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;IAC/B,YAAA,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;gBACpC,IAAI,OAAO,GAAGC,8BAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;;gBAE3G,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAA1B,EAA0B,CAAC,CAAC;IACzD,YAAA,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC;IAChC,SAAA;IAAM,aAAA;IACH,YAAA,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;IACvB,YAAA,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;IAC/B,SAAA;;IAGD,QAAA,IAAI,IAAI,GAAG,IAAI,GAAG,EAAK,CAAC;IACxB,QAAA,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IAChC,QAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,GAAG,EAAA;IACtB,YAAA,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;IAAE,gBAAA,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAChD,SAAC,CAAC,CAAC;IACH,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB,CAAA;;IAID,IAAA,eAAA,CAAA,SAAA,CAAA,aAAa,GAAb,UAAc,GAAiB,EAAE,EAAe,EAAA;YAC5C,IAAI,CAAC,GAAG,CAAC,QAAQ;gBAAE,OAAO;;YAE1B,IAAI,IAAI,CAAC,WAAW,KAAK,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;gBAAE,OAAO;YAEnD,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC9B,IAAI,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC;IAEhF,QAAA,IAAI,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC;IAC/C,QAAA,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAA;IAChC,YAAA,OAAO,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC;IAC7B,SAAC,CAAC,CAAC;IAEH,QAAA,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE;IACZ,YAAA,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IAC5C,SAAA;IAAM,aAAA;IACH,YAAA,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;IACxB,YAAA,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK;IAAE,gBAAA,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;oBAClE,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IAC5B,SAAA;YAED,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAgB,CAAA,SAAA,CAAA,gBAAA,GAAhB,UAAiB,GAAiB,EAAA;IAC9B,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM;IAAE,YAAA,OAAO,EAAE,CAAC;YACtC,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,UAAC,CAAC,EAAK,EAAA,OAAA,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA,EAAA,CAAC,CAAC;YACzE,IAAI,GAAG,KAAK,CAAC,CAAC;IAAE,YAAA,OAAO,EAAE,CAAC;YAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;YAC1D,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;SACpE,CAAA;QAED,eAAa,CAAA,SAAA,CAAA,aAAA,GAAb,UAAc,GAAe,EAAA;IACzB,QAAA,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;IAAE,YAAA,OAAO,KAAK,CAAC;YACvC,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAQ,CAAC,CAAC;SACtC,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,kBAAkB,GAAlB,UAAmB,GAAe,EAAE,EAAe,EAAA;YAC/C,IAAI,CAAC,IAAI,CAAC,mBAAmB;gBAAE,OAAO;IACtC,QAAA,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;gBAAE,OAAO;IACjC,QAAA,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,QAAQ,CAAC;YAEnE,IAAI,IAAI,KAAK,QAAQ,EAAE;IACnB,YAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IACtB,YAAA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAQ,CAAC,CAAC;gBAC5B,OAAO;IACV,SAAA;;IAGD,QAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAQ,CAAC;IAAE,YAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAQ,CAAC,CAAC;;IAC3D,YAAA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAQ,CAAC,CAAC;SACpC,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;YAAA,IAYC,KAAA,GAAA,IAAA,CAAA;YAXG,IAAI,CAAC,IAAI,CAAC,mBAAmB;gBAAE,OAAO;IACtC,QAAA,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IAChC,QAAA,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC;gBAAE,OAAO;YAEhC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,MAAM,CAAC,MAAM,EAAE;IACtC,YAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBACtB,OAAO;IACV,SAAA;IAED,QAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IACtB,QAAA,MAAM,CAAC,OAAO,CAAC,UAAC,CAAC,EAAA,EAAK,OAAA,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAApB,EAAoB,CAAC,CAAC;SAC/C,CAAA;IAED,IAAA,MAAA,CAAA,cAAA,CAAI,eAAW,CAAA,SAAA,EAAA,aAAA,EAAA;IAAf,QAAA,GAAA,EAAA,YAAA;gBACI,IAAI,CAAC,IAAI,CAAC,mBAAmB;IAAE,gBAAA,OAAO,KAAK,CAAC;IAC5C,YAAA,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IAChC,YAAA,OAAO,MAAM,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,MAAM,CAAC,MAAM,CAAC;aACpE;;;IAAA,KAAA,CAAA,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,UAAU,GAAV,UAAW,GAAiB,EAAE,GAAM,EAAA;YAChC,IAAI,KAAK,GAAGC,uBAAY,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACnC,QAAA,OAAO,GAAG,CAAC,cAAc,GAAG,GAAG,CAAC,cAAc,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;SACtE,CAAA;IAED,IAAA,MAAA,CAAA,cAAA,CAAI,eAAmB,CAAA,SAAA,EAAA,qBAAA,EAAA;IAAvB,QAAA,GAAA,EAAA,YAAA;IACI,YAAA,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,KAAK,KAAK,CAAC;aAC/C;;;IAAA,KAAA,CAAA,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,cAAc,GAAd,UAAe,GAAiB,EAAE,KAAU,EAAE,OAAa,EAAA;YACvD,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC9B,QAAA,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAK,GAAW,CAAC,eAAe,IAAI,UAAU,CAAC;YACjF,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,EAAA;IAC1C,YAAA,OAAO,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC;IAC7B,SAAC,CAAC,CAAC;IAEH,QAAA,IAAI,QAAQ,GAAG,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,IAAI,IAAI,OAAO,KAAK,EAAE,CAAC;IAC3E,QAAA,IAAI,QAAQ,GAAG,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,EAAE,CAAC;YACrE,IAAI,QAAQ,IAAI,QAAQ,EAAE;IACtB,YAAA,IAAI,IAAI,GAAG,OAAO,GAAG,CAAC,MAAM,KAAK,QAAQ,GAAG,GAAG,CAAC,MAAM,GAAG,SAAS,CAAC;gBACnE,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,EAAA,KAAA,EAAE,IAAI,EAAA,IAAA,EAAE,KAAK,EAAA,KAAA,EAAE,OAAO,EAAA,OAAA,EAAE,SAAS,EAAE,IAAW,EAAS,CAAC,CAAC;IAC7E,SAAA;IAED,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,YAAY,GAAZ,UAAa,GAAiB,EAAE,IAAmB,EAAE,KAAU,EAAA;YAC3D,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC9B,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAC7C,IAAI,IAAI,KAAK,KAAK;IAAE,YAAA,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;;IACrC,YAAA,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC;IAC7B,QAAA,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC;IACnC,QAAA,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;SAC5D,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,iBAAiB,GAAjB,UAAkB,GAAiB,EAAE,GAAQ,EAAE,OAAiB,EAAA;YAAhE,IAaC,KAAA,GAAA,IAAA,CAAA;YAZG,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC9B,QAAA,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAC1D,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC;IACrC,QAAA,IAAI,OAAO,EAAE;gBACT,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;gBACzC,OAAO;IACV,SAAA;;YAED,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;IACzC,QAAA,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC,YAAA;gBACpC,KAAI,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;aAC5C,EAAE,GAAG,CAAC,CAAC;SACX,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,gBAAgB,GAAhB,UAAiB,GAAiB,EAAE,IAA0C,EAAA;YAC1E,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC9B,QAAA,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;;YAE/B,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,KAAK,KAAK,KAAK,CAAjB,EAAiB,CAAC,CAAC;IAC/D,QAAA,IAAI,GAAG,GAAG,QAAQ,GAAG,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;IACzC,QAAA,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,QAAQ,GAAG,QAAQ,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;SAC1E,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,YAAY,GAAZ,YAAA;IACI,QAAA,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACtB,QAAA,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACvB,QAAA,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,SAAS,EAAE,CAAC;IACjB,QAAA,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;SAC3B,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;IACI,QAAA,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,QAAA,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;YAC5B,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAW,CAAA,SAAA,CAAA,WAAA,GAAX,UAAY,GAAiB,EAAA;YACzB,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,KAAK,KAAK,KAAK,CAAjB,EAAiB,CAAC,CAAC;YAC9D,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACnC,IAAI,GAAG,KAAK,CAAC,CAAC;gBAAE,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,EAAA,KAAA,EAAE,CAAC,CAAC;;IAChC,YAAA,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACzB,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,MAAM;IAAE,YAAA,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;YAC9C,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAS,CAAA,SAAA,CAAA,SAAA,GAAT,UAAU,GAAiB,EAAA;YACvB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAC,CAAC,EAAA,EAAK,OAAA,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA,EAAA,CAAC,CAAC;SACrE,CAAA;QAED,eAAU,CAAA,SAAA,CAAA,UAAA,GAAV,UAAW,GAAe,EAAA;IACtB,QAAA,OAAO,CAAC,CAAE,GAAW,CAAC,OAAO,CAAC;SACjC,CAAA;QAED,eAAU,CAAA,SAAA,CAAA,UAAA,GAAV,UAAW,GAAoB,EAAA;YAC3B,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAC5C,CAAA;QAED,eAAiB,CAAA,SAAA,CAAA,iBAAA,GAAjB,UAAkB,GAAoB,EAAA;YAClC,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;gBAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;;gBACvE,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACvC,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,WAAW,GAAX,UAAY,GAAoB,EAAE,GAAiB,EAAA;;IAC/C,QAAA,OAAO,CAAA,EAAA,GAAA,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,EAAE,CAAC;SAC3C,CAAA;IAEO,IAAA,eAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;YAAA,IAEP,KAAA,GAAA,IAAA,CAAA;YADG,OAAQ,IAAI,CAAC,QAA8B,CAAC,MAAM,CAAC,UAAC,CAAC,EAAK,EAAA,OAAA,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAnB,EAAmB,CAAQ,CAAC;SACzF,CAAA;IAEO,IAAA,eAAA,CAAA,SAAA,CAAA,aAAa,GAAb,YAAA;YACJ,IAAI,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAC5E,OAAO,IAAI,CAAC,UAAU;iBACjB,GAAG,CAAC,UAAU,CAAC,EAAA;IACZ,YAAA,IAAI,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC;IACpB,YAAA,IAAI,CAAC,GAAG,IAAI,MAAM,EAAE;oBAChB,IAAI,CAAC,GAAGA,uBAAY,CAAC,CAAC,EAAE,MAAa,CAAC,CAAC;IACvC,gBAAA,GAAG,GAAG,OAAO,CAAC,KAAK,QAAQ,GAAG,KAAK,GAAG,OAAO,CAAC;IACjD,aAAA;IACD,YAAA,IAAI,CAAC,GAAG;oBAAE,GAAG,GAAG,OAAO,CAAC;IACxB,YAAA,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IACpD,SAAC,CAAC,CAAC;SACV,CAAA;IAQD,IAAA,eAAA,CAAA,SAAA,CAAA,UAAU,GAAV,UAAW,EAAU,EAAE,GAAiB,EAAA;IACpC,QAAA,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SAC5B,CAAA;QAED,eAAU,CAAA,SAAA,CAAA,UAAA,GAAV,UAAW,GAAiB,EAAA;YACxB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,UAAC,CAAC,EAAK,EAAA,OAAA,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA,EAAA,CAAC,CAAC;SAC/E,CAAA;QAED,eAAc,CAAA,SAAA,CAAA,cAAA,GAAd,UAAe,GAAiB,EAAA;YAC5B,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IAC7C,QAAA,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,UAAC,CAAC,EAAA,EAAK,OAAA,CAAC,CAAC,KAAK,KAAK,EAAE,CAAd,EAAc,CAAC,CAAC;YAChD,IAAI,GAAG,KAAK,CAAC,CAAC;IAAE,YAAA,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,IAAI,KAAK,EAAE,CAAC,CAAC;;IACnE,YAAA,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACzB,QAAA,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;YAC1E,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAa,CAAA,SAAA,CAAA,aAAA,GAAb,UAAc,OAAY,EAAA;YACtB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;YAC7E,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAmB,CAAA,SAAA,CAAA,mBAAA,GAAnB,UAAoB,GAAS,EAAA;;IAEzB,QAAA,IAAI,GAAG,KAAK,EAAE,IAAI,GAAG,KAAK,IAAI;gBAAE,GAAG,GAAG,SAAS,CAAC;IAChD,QAAA,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAC;YACxE,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAW,CAAA,SAAA,CAAA,WAAA,GAAX,UAAY,GAAiB,EAAA;;YACzB,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC3B,QAAA,OAAO,CAAA,EAAA,GAAA,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,IAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,CAAC;SACnD,CAAA;QAED,eAAU,CAAA,SAAA,CAAA,UAAA,GAAV,UAAW,GAAiB,EAAA;YACxB,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC3B,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,KAAK,EAAE,GAAG,IAAI,GAAG,EAAE,CAAC;IACvD,QAAA,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;SAC3B,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;IACI,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IACxB,QAAA,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;SAC3B,CAAA;QAED,eAAO,CAAA,SAAA,CAAA,OAAA,GAAP,UAAQ,GAAiB,EAAA;YACrB,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,KAAK,KAAK,EAAE,CAAd,EAAc,CAAC,CAAC;IACxD,QAAA,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IACzC,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAQ,CAAA,SAAA,CAAA,QAAA,GAAR,UAAS,GAAiB,EAAA;YACtB,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,KAAK,KAAK,EAAE,CAAd,EAAc,CAAC,CAAC;IACxD,QAAA,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;IAC1C,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAS,CAAA,SAAA,CAAA,SAAA,GAAT,UAAU,GAAiB,EAAA;YACvB,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAC,CAAC,EAAK,EAAA,OAAA,CAAC,CAAC,KAAK,KAAK,EAAE,CAAA,EAAA,CAAC,CAAC;YAC9D,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;QAED,eAAc,CAAA,SAAA,CAAA,cAAA,GAAd,UAAe,GAAiB,EAAA;YAC5B,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,UAAC,CAAC,EAAK,EAAA,OAAA,CAAC,CAAC,KAAK,KAAK,EAAE,CAAA,EAAA,CAAC,CAAC;IAClE,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YAC7B,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,aAAa,GAAb,UAAc,EAAc,EAAE,GAAiB,EAAA;YAA/C,IAwCC,KAAA,GAAA,IAAA,CAAA;YAvCG,EAAE,CAAC,eAAe,EAAE,CAAC;YACrB,EAAE,CAAC,cAAc,EAAE,CAAC;IACpB,QAAA,IAAI,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC;YACxB,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IACnC,QAAA,IAAI,IAAI,GAAG,GAAG,CAAC,QAAQ,IAAI,EAAE,CAAC;IAC9B,QAAA,IAAI,IAAI,GAAG,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC;IAC/B,QAAA,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,YAAA;gBACxB,IAAI,OAAO,GAAG,KAAK,CAAC;gBACpB,IAAI,SAAS,GAAG,MAAM,CAAC;gBACvB,IAAI,IAAI,GAAG,UAAC,CAAa,EAAA;IACrB,gBAAA,IAAI,KAAK,GAAG,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC;IAC/B,gBAAA,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC;oBAC3D,IAAI,CAAC,OAAO,EAAE;wBACV,OAAO,GAAG,IAAI,CAAC;IACf,oBAAA,KAAI,CAAC,WAAW,GAAG,qBAAqB,CAAC,YAAA;;4BACrC,OAAO,GAAG,KAAK,CAAC;IAChB,wBAAA,KAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAI,CAAC,SAAS,GAAI,EAAA,GAAA,EAAA,EAAA,EAAA,CAAC,EAAE,CAAG,GAAA,SAAS,MAAG,CAAC;IACxE,wBAAA,KAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;IAC5B,qBAAC,CAAC,CAAC;IACN,iBAAA;IACL,aAAC,CAAC;IACF,YAAA,IAAI,EAAE,GAAG,YAAA;IACL,gBAAA,IAAI,KAAI,CAAC,WAAW,IAAI,IAAI,EAAE;IAC1B,oBAAA,oBAAoB,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;IACvC,oBAAA,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC3B,iBAAA;IACD,gBAAA,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;IAChC,gBAAA,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IAC9C,gBAAA,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IAC1C,gBAAA,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAM,OAAA,KAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAvB,EAAuB,CAAC,CAAC;IACjD,aAAC,CAAC;IACF,YAAA,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,CAAC;IAC1C,YAAA,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IAC3C,YAAA,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACvD,YAAA,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAM,OAAA,KAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAvB,EAAuB,CAAC,CAAC;IACjD,SAAC,CAAC,CAAC;SACN,CAAA;IAED,IAAA,eAAA,CAAA,SAAA,CAAA,cAAc,GAAd,UAAe,GAAiB,EAAE,IAA2B,EAAA;IAA3B,QAAA,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA,EAAA,IAA2B,GAAA,KAAA,CAAA,EAAA;;YACzD,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;IAE9B,QAAA,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,EAAE;gBAClC,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;IACtC,YAAA,IAAI,MAAM;IAAE,gBAAA,OAAO,IAAI,KAAK,KAAK,GAAG,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC;IACrE,SAAA;;YAED,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,KAAK,KAAK,KAAK,CAAjB,EAAiB,CAAC,CAAC;IAC1D,QAAA,IAAI,CAAC,GAAG;IAAE,YAAA,OAAO,EAAE,CAAC;YACpB,OAAO,IAAI,KAAK,KAAK,GAAG,CAAA,EAAA,GAAA,GAAG,CAAC,KAAK,mCAAI,EAAE,GAAG,CAAA,EAAA,GAAA,GAAG,CAAC,OAAO,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,EAAE,CAAC;SAC/D,CAAA;;;uIAthBQ,eAAe,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,aAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,KAAA,EAAAA,aAAA,CAAA,MAAA,EAAA,EAAA,EAAA,KAAA,EAAAA,aAAA,CAAA,UAAA,EAAA,CAAA,EAAA,MAAA,EAAAA,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;IAAf,eAAA,CAAA,IAAA,GAAAA,aAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,eAAe,8PCxC5B,m5QAsJM,EAAA,MAAA,EAAA,CAAA,inJAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAAC,aAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,aAAA,CAAA,4BAAA,EAAA,QAAA,EAAA,uGAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,eAAA,EAAA,QAAA,EAAA,2CAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,OAAA,EAAA,QAAA,EAAA,qDAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,gBAAA,CAAA,EAAA,OAAA,EAAA,CAAA,eAAA,CAAA,EAAA,QAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,0BAAA,EAAA,QAAA,EAAA,6GAAA,EAAA,MAAA,EAAA,CAAA,aAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,cAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,uBAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAD,aAAA,CAAA,QAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,YAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,aAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,8MAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,mBAAA,EAAA,QAAA,EAAA,iGAAA,EAAA,EAAA,EAAA,IAAA,EAAAD,aAAA,CAAA,eAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,CAAA,EAAA,eAAA,EAAAD,aAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;sHD9GO,eAAe,EAAA,UAAA,EAAA,CAAA;sBAN3BG,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACP,oBAAA,QAAQ,EAAE,SAAS;IACnB,oBAAA,WAAW,EAAE,0BAA0B;wBACvC,SAAS,EAAE,CAAC,0BAA0B,CAAC;wBACvC,eAAe,EAAEC,0BAAuB,CAAC,MAAM;qBAClD,CAAA;2LAEY,UAAU,EAAA,CAAA;0BAAlBC,QAAK;oBACG,OAAO,EAAA,CAAA;0BAAfA,QAAK;oBACG,OAAO,EAAA,CAAA;0BAAfA,QAAK;oBACG,aAAa,EAAA,CAAA;0BAArBA,QAAK;oBAwIN,UAAU,EAAA,CAAA;0BADTC,eAAY;2BAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,CAAA;;IA8Y9C,SAAS,gBAAgB,CAAC,OAAe,EAAE,QAAgB,EAAE,IAAY,EAAA;IACrE,IAAA,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAC/C,IAAA,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,IAAK,MAAc,CAAC,SAAS,EAAE,eAAe,CAAC,IAAI,CAAC,CAAC;QAE1E,IAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;IACpC,IAAA,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;IACb,IAAA,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACtB,IAAA,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IACzB,IAAA,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC,CAAC,KAAK,EAAE,CAAC;IAEV,IAAA,UAAU,CAAC,YAAA;IACP,QAAA,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IAC7B,QAAA,CAAC,MAAM,CAAC,GAAG,IAAK,MAAc,CAAC,SAAS,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC;SAClE,EAAE,CAAC,CAAC,CAAC;IACV,CAAC;IAED,IAAM,YAAY,GAAG,UAAC,MAAa,EAAE,OAAe,EAAA;IAChD,IAAA,OAAO,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,OAAO,GAAG,IAAI,GAAG,KAAK,CAAC;IAC5D,CAAC;;AE1kBD,QAAA,YAAA,kBAAA,YAAA;IAAA,IAAA,SAAA,YAAA,GAAA;;;;oIAAa,YAAY,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAAN,aAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;IAAZ,YAAA,CAAA,IAAA,GAAAA,aAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,YAAY,iBAJN,eAAe,CAAA,EAAA,OAAA,EAAA,CACpBO,eAAY,EAAEC,cAAW,aACzB,eAAe,CAAA,EAAA,CAAA,CAAA;IAEhB,YAAA,CAAA,IAAA,GAAAR,aAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,YAAY,EAHZ,OAAA,EAAA,CAAA,CAACO,eAAY,EAAEC,cAAW,CAAC,CAAA,EAAA,CAAA,CAAA;sHAG3B,YAAY,EAAA,UAAA,EAAA,CAAA;sBALxBC,WAAQ;IAAC,YAAA,IAAA,EAAA,CAAA;wBACN,YAAY,EAAE,CAAC,eAAe,CAAC;IAC/B,oBAAA,OAAO,EAAE,CAACF,eAAY,EAAEC,cAAW,CAAC;wBACpC,OAAO,EAAE,CAAC,eAAe,CAAC;qBAC7B,CAAA;;;ICTD;;IAEG;;;;;;;;;;;"}